(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)o=s[u],n[o]&&p.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,s=1;s<i.length;s++){var l=i[s];0!==n[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},n={app:0},r=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"01af":function(e,t,i){"use strict";var a=i("dfb9"),n=i.n(a);n.a},"05fc":function(e,t,i){"use strict";var a=i("637b"),n=i.n(a);n.a},"0c8a":function(e,t,i){"use strict";var a=i("e0e3"),n=i.n(a);n.a},"0d57":function(e,t,i){},"0f42":function(e,t,i){"use strict";var a=i("3db6"),n=i.n(a);n.a},1131:function(e,t,i){"use strict";var a=i("35dc"),n=i.n(a);n.a},1926:function(e,t,i){"use strict";var a=i("9346"),n=i.n(a);n.a},"19f2":function(e,t,i){},"1c77":function(e,t,i){"use strict";var a=i("6636"),n=i.n(a);n.a},"2a85":function(e,t,i){"use strict";var a=i("d7b5"),n=i.n(a);n.a},"2b3e":function(e,t,i){"use strict";var a=i("f931"),n=i.n(a);n.a},"2b73":function(e,t,i){"use strict";var a=i("84a4"),n=i.n(a);n.a},3024:function(e,t,i){"use strict";var a=i("a6d3"),n=i.n(a);n.a},"35dc":function(e,t,i){},"37b8":function(e,t,i){},"3a86":function(e,t,i){},"3db6":function(e,t,i){},"3f26":function(e,t,i){"use strict";var a=i("690b"),n=i.n(a);n.a},4410:function(e,t,i){},"458b":function(e,t,i){"use strict";var a=i("83a0"),n=i.n(a);n.a},"46d9":function(e,t,i){"use strict";var a=i("0d57"),n=i.n(a);n.a},"4ac3":function(e,t,i){"use strict";var a=i("b5f6"),n=i.n(a);n.a},"4c22":function(e,t,i){"use strict";var a=i("ea30"),n=i.n(a);n.a},"4dff":function(e,t,i){"use strict";var a=i("37b8"),n=i.n(a);n.a},"4f01":function(e,t,i){},"519a":function(e,t,i){"use strict";var a=i("3a86"),n=i.n(a);n.a},"56d7":function(e,t,i){"use strict";i.r(t);i("7f7f"),i("cadf"),i("551c"),i("f751"),i("097d");var a,n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-view")},o=[],s={},l=s,c=i("2877"),d=Object(c["a"])(l,r,o,!1,null,null,null),u=d.exports,p=i("75fc"),m=i("8c4f"),v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-header",[i("header-bar",{on:{sideCollapse:e.sideCollapse}})],1),i("el-container",[i("el-aside",{attrs:{height:e.asideHeight,width:e.asideWidth}},[i("div",{staticClass:"tools",on:{click:e.sideCollapse}},[i("i",{class:e.iconCollapseClass,staticStyle:{"font-size":"22px",color:"grey"}})]),i("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[i("side-menu",{attrs:{isCollapsed:e.isCollapsed,asideHeight:e.asideHeight}})],1)],1),i("el-container",[i("el-main",{ref:"mapView",style:{height:e.asideHeight}},[i("router-view")],1)],1)],1)],1)},f=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("el-row",[a("el-col",{staticClass:"logo-title",attrs:{span:8}},[e._v("\n      "+e._s(e.config.title)+"\n      "),a("span",{staticClass:"logo-title-small"},[e._v(e._s(e.config.smallTitle))])]),a("el-col",{attrs:{span:13}},[a("el-menu",{attrs:{mode:"horizontal","background-color":"#20a0ff","text-color":"#fff","active-text-color":"#fff"}},[a("el-menu-item",{attrs:{index:"1"}},[a("el-link",{attrs:{underline:!1,href:"https://developers.arcgis.com/javascript",target:"_blank"}},[e._v("首页")])],1),a("el-menu-item",{attrs:{index:"2"}},[a("el-link",{attrs:{underline:!1,href:"https://developers.arcgis.com",target:"_blank"}},[e._v("ArcGIS for Developers")])],1),a("el-menu-item",{attrs:{index:"3"}},[a("el-link",{attrs:{underline:!1,href:"http://esri.github.io",target:"_blank"}},[e._v("Esri GitHub")])],1),a("el-menu-item",{attrs:{index:"4"}},[a("el-link",{attrs:{underline:!1,href:"https://maps.esri.com/portal/WebApps/index.html",target:"_blank"}},[e._v("Esri APL Demos")])],1)],1)],1),a("el-col",{staticClass:"user-info",attrs:{span:3}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[a("img",{staticClass:"userinfo-img",attrs:{src:i("ba97")}}),e._v("\n          "+e._s(e.username)+"\n        ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"userinfo"}},[e._v("个人信息")]),a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("退出登录")])],1)],1)],1)],1)],1)},g=[],h=window.config,y={data:function(){return{config:h,username:""}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.username=e.username||"")},methods:{handleCommand:function(e){var t=this;switch(e){case"userinfo":this.$router.push("/userInfo");break;case"logout":this.$confirm("确认退出吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){sessionStorage.removeItem("user"),t.$router.push("/login")}).catch(function(){});break}}}},b=y,_=(i("e070"),i("4c22"),i("ae7e"),Object(c["a"])(b,w,g,!1,null,"663e60ec",null)),E=_.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{style:{height:e.asideHeight},attrs:{collapse:this.isCollapsed,"collapse-transition":!1,mode:"vertical","default-active":"1-1",router:!0}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-map-location"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("地图")])]),i("el-menu-item-group",{staticStyle:{"border-radius":"4px"}},[i("el-menu-item",{attrs:{index:"1-1",route:"tileMap"}},[e._v("切片地图服务")]),i("el-menu-item",{attrs:{index:"1-2",route:"vectorTileMap"}},[e._v("矢量切片服务")]),i("el-menu-item",{attrs:{index:"1-3",route:"tdtWMTS"}},[e._v("天地图WMTS")]),i("el-menu-item",{attrs:{index:"1-4",route:"dynamicMap"}},[e._v("动态地图服务")]),i("el-menu-item",{attrs:{index:"1-5",route:"imageMap"}},[e._v("影像服务")]),i("el-menu-item",{attrs:{index:"1-6",route:"webMap"}},[e._v("WebMap")])],1)],2),i("el-submenu",{attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-search"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("查询")])]),i("el-menu-item-group",{staticStyle:{"border-radius":"4px"}},[i("el-menu-item",{attrs:{index:"2-1",route:"queryByAtrributes"}},[e._v("属性查询")]),i("el-menu-item",{attrs:{index:"2-2",route:"queryByGeometry"}},[e._v("空间查询")]),i("el-menu-item",{attrs:{index:"2-3",route:"queryStatistics"}},[e._v("查询统计")])],1)],2),i("el-submenu",{attrs:{index:"3"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-view"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("可视化")])]),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("二维可视化")]),i("el-menu-item",{attrs:{index:"3-1",route:"uniqueValueRender"}},[e._v("唯一值")]),i("el-menu-item",{attrs:{index:"3-2",route:"classBreakRender_color"}},[e._v("分类渲染(颜色)")]),i("el-menu-item",{attrs:{index:"3-3",route:"classBreakRender_size"}},[e._v("分类渲染(大小)")]),i("el-menu-item",{attrs:{index:"3-5",route:"visualizationColor"}},[e._v("使用可视化变量(颜色)")]),i("el-menu-item",{attrs:{index:"3-6",route:"visualizationSize"}},[e._v("使用可视化变量(大小)")]),i("el-menu-item",{attrs:{index:"3-7",route:"dotDensity"}},[e._v("点密度")]),i("el-menu-item",{attrs:{index:"3-8",route:"heatMap"}},[e._v("热力图")])],2),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("三维可视化")]),i("el-menu-item",{attrs:{index:"3-8",route:"water3D"}},[e._v("水纹展示")]),i("el-menu-item",{attrs:{index:"3-8",route:"symbol3D"}},[e._v("点符号化")]),i("el-menu-item",{attrs:{index:"3-9",route:"webStyle3D"}},[e._v("点符号化(WebStyle)")]),i("el-menu-item",{attrs:{index:"3-10",route:"symbolLabel3D"}},[e._v("点符号标注")]),i("el-menu-item",{attrs:{index:"3-11",route:"polygon3D"}},[e._v("面要素拉伸")]),i("el-menu-item",{attrs:{index:"3-12",route:"Label3D"}},[e._v("标注符号")]),i("el-menu-item",{attrs:{index:"3-13",route:"dataDriven3D"}},[e._v("数据驱动")])],2)],2),i("el-submenu",{attrs:{index:"4"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-edit"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("编辑")])]),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("二维编辑")]),i("el-menu-item",{attrs:{index:"4-1",route:"widgetEditor"}},[e._v("Editor微件编辑")]),i("el-menu-item",{attrs:{index:"4-2",route:"applyEditEditor"}},[e._v("ApplyEdit接口编辑")])],2),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("三维编辑")]),i("el-menu-item",{attrs:{index:"4-3"}},[e._v("编辑1")]),i("el-menu-item",{attrs:{index:"4-4"}},[e._v("编辑2")])],2)],2),i("el-submenu",{attrs:{index:"5"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-data-analysis"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("分析")])]),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("二维分析")]),i("el-menu-item",{attrs:{index:"5-1",route:"geodesicBuffer"}},[e._v("几何分析(距离缓冲区)")]),i("el-menu-item",{attrs:{index:"5-2",route:"hotSpot"}},[e._v("GP服务(热点分析)")]),i("el-menu-item",{attrs:{index:"5-3",route:"routeTask"}},[e._v("路径分析")])],2),i("el-menu-item-group",[i("template",{slot:"title"},[e._v("三维分析")]),i("el-menu-item",{attrs:{index:"5-3",route:"viewshed"}},[e._v("视域分析")]),i("el-menu-item",{attrs:{index:"5-5",route:"elevationQueryPoint"}},[e._v("地形分析")])],2)],2),i("el-submenu",{attrs:{index:"6"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-office-building"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("三维")])]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"6-1",route:"scene"}},[e._v("三维场景服务")]),i("el-menu-item",{attrs:{index:"6-2",route:"webScene"}},[e._v("WebScene")])],1)],2),i("el-submenu",{attrs:{index:"7"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-pie-chart"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("Charts")])]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"7-1",route:"echarts"}},[e._v("echarts")])],1)],2)],1)},C=[],L={data:function(){return{}},props:["isCollapsed","asideHeight"],methods:{}},x=L,M=(i("0c8a"),i("05fc"),Object(c["a"])(x,S,C,!1,null,"32b733c8",null)),T=M.exports,k={components:{headerBar:E,sideMenu:T},data:function(){return{iconCollapseClass:"el-icon-s-fold",isCollapsed:!1,asideHeight:"0px",asideWidth:"230px"}},created:function(){this.esriLoader.loadCss(window.mapConfig.cssUrl)},mounted:function(){var e=window.innerHeight-65+"px";this.asideHeight=e,this.$router.push("/tileMap")},methods:{sideCollapse:function(){this.iconCollapseClass="el-icon-s-fold"!=this.iconCollapseClass?"el-icon-s-fold":"el-icon-s-unfold",this.isCollapsed=!this.isCollapsed,this.asideWidth="65px"!=this.asideWidth?"65px":"230px"}}},D=k,V=(i("1c77"),Object(c["a"])(D,v,f,!1,null,"395366f9",null)),W=V.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login"},[i("el-card",{staticClass:"box-card login-container"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[e._v("欢迎登陆")])]),i("div",[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{type:"text",size:"small","auto-complete":"off",placeholder:"用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[i("el-button",{attrs:{slot:"prepend",size:"mini",icon:"el-icon-user-solid"},slot:"prepend"})],1)],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",size:"small","auto-complete":"off",placeholder:"密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[i("el-button",{attrs:{slot:"prepend",size:"mini",icon:"el-icon-lock"},slot:"prepend"})],1)],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"small",loading:e.logining},on:{click:function(t){return e.submitForm()}}},[e._v("登录")])],1)],1)],1)])],1)},j=[],F=window.config,I={data:function(){return{config:F,form:{username:"admin",password:"admin"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},logining:!1}},methods:{submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(t){e.logining=!0;var i={username:e.form.username,password:e.form.password};e.axios.get(window.mapConfig.OprService.getUser,i).then(function(t){e.logining=!1;var i={username:"admin",roleid:"1",email:"liwei@esrichina.com.cn",description:"易智瑞（中国）信息技术有限公司"};sessionStorage.setItem("user",JSON.stringify(i)),e.$router.push("/tileMap")}).catch(function(t){e.logining=!1,console.log(t)})}})}}},N=I,A=(i("e330"),i("5fe2"),Object(c["a"])(N,O,j,!1,null,"384002ec",null)),P=A.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},z=[],B=i("cebc"),R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-button-group",{attrs:{id:"toolbar"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"距离测量",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-files",id:"distanceButton"},on:{click:e.distanceMeasure}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"面积测量",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-house",id:"areaButton"},on:{click:e.areaMeasure}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"图层",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-view",id:"areaButton"},on:{click:e.createLayerlist}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"图例",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-date"},on:{click:e.createLegend}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"打印",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-printer"},on:{click:e.createPrint}})],1)],1)},H=[],U=i("768b"),G={data:function(){return{view:null,webmap:null,currentWidget:null}},methods:{removeWidget:function(){this.currentWidget&&(this.view.ui.remove(this.currentWidget),this.currentWidget.destroy(),this.currentWidget=null)},distanceMeasure:function(){var e=this;if(e.currentWidget){if("distance"==e.currentWidget.id)return void this.removeWidget();this.removeWidget()}this.esriLoader.loadModules(["esri/views/MapView","esri/WebMap","esri/widgets/DistanceMeasurement2D","esri/widgets/AreaMeasurement2D"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=(i[0],i[1],i[2]);i[3];e.currentWidget=new a({id:"distance",view:e.view}),e.currentWidget.viewModel.newMeasurement(),e.view.ui.add(e.currentWidget,"top-right")})},areaMeasure:function(){var e=this;if(e.currentWidget){if("area"==e.currentWidget.id)return void this.removeWidget();this.removeWidget()}this.esriLoader.loadModules(["esri/views/MapView","esri/WebMap","esri/widgets/DistanceMeasurement2D","esri/widgets/AreaMeasurement2D"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=(i[0],i[1],i[2],i[3]);e.currentWidget=new a({id:"area",view:e.view}),e.currentWidget.viewModel.newMeasurement(),e.view.ui.add(e.currentWidget,"top-right")})},createLayerlist:function(){var e=this;if(e.currentWidget){if("layerList"==e.currentWidget.id)return void this.removeWidget();this.removeWidget()}this.esriLoader.loadModules(["esri/views/MapView","esri/widgets/LayerList","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=(i[0],i[1]);i[2];e.currentWidget=new a({id:"layerList",view:e.view}),e.view.ui.add(e.currentWidget,"top-right")})},createLegend:function(){var e=this,t=this;if(t.currentWidget){if("legend"==t.currentWidget.id)return void this.removeWidget();this.removeWidget()}this.esriLoader.loadModules(["esri/views/MapView","esri/widgets/Legend","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(i){var a=Object(U["a"])(i,3),n=(a[0],a[1]);a[2];if(null!=t.webmap){var r=e.webmap.layers.getItemAt(0);t.currentWidget=new n({id:"legend",view:t.view,layerInfos:[{layer:r,title:"图例"}]}),t.view.ui.add(t.currentWidget,"top-right")}})},createPrint:function(){var e=this;if(e.currentWidget){if("print"==e.currentWidget.id)return void this.removeWidget();this.removeWidget()}this.esriLoader.loadModules(["esri/views/MapView","esri/widgets/Print","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=(i[0],i[1]);i[2];e.currentWidget=new a({id:"print",view:e.view,printServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task"}),e.view.ui.add(e.currentWidget,"top-right")})},createScalebar:function(){var e=this;this.esriLoader.loadModules(["esri/views/MapView","esri/widgets/ScaleBar","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=(i[0],i[1]);i[2];e.scalebar=new a({view:e.view,unit:"dual"}),e.view.ui.add(e.scalebar,"bottom-left")})}},computed:{listenMapView:function(){return this.$store.state.mapStore.mapView}},watch:{listenMapView:function(e,t){e&&(this.view=this.$store.state.mapStore.mapView,this.webmap=this.$store.state.mapStore.webmap,this.view.ui.add("toolbar","top-right"),this.createScalebar())}}},q=G,Z=Object(c["a"])(q,R,H,!1,null,"58e80942",null),Y=Z.exports,J=i("2f62"),Q={data:function(){return{view:null}},components:{"map-tools":Y},computed:{},created:function(){this.setMapView(null);var e=this.$route.name;switch(e){case"tileMap":this.loadTileMap();break;case"vectorTileMap":break;case"tdtWMTS":this.loadTdtWMTS();break;case"dynamicMap":break;case"imageMap":break;case"webMap":this.loadWebMap();break;case"webMapValue":this.loadWebMapValue();break;default:this.loadTileMap()}},destroyed:function(){},mounted:function(){var e=this.$refs.viewDiv;this.setviewDiv(e)},methods:Object(B["a"])({},Object(J["b"])(["setMapView","loadTileMap","loadTdtWMTS","loadWebMap","loadWebMapValue","loadWebMapColor","loadWebMapSize","setviewDiv"])),watch:{$route:function(e,t){var i=e.name;switch(i){case"tileMap":this.loadTileMap();break;case"vectorTileMap":break;case"tdtWMTS":this.loadTdtWMTS();break;case"dynamicMap":break;case"imageMap":break;case"webMap":this.loadWebMap();break;case"webMapValue":this.loadWebMapValue();break;case"webMapColor":this.loadWebMapColor();break;case"webMapSize":this.loadWebMapSize();break;default:this.loadTileMap()}}}},K=Q,X=(i("01af"),Object(c["a"])(K,$,z,!1,null,"70ed86f0",null)),ee=X.exports,te=[{path:"/tileMap",name:"tileMap",component:ee},{path:"/vectorTileMap",name:"vectorTileMap",component:ee},{path:"/tdtWMTS",name:"tdtWMTS",component:ee},{path:"/dynamicMap",name:"dynamicMap",component:ee},{path:"/imageMap",name:"imageMap",component:ee},{path:"/webMap",name:"webMap",component:ee}],ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("el-button-group",{staticClass:"esri-widget",attrs:{id:"gbar"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"绘制点",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-more",id:"pointButton"},on:{click:e.drawPoint}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"绘制线",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-minus",id:"plineButton"},on:{click:e.drawPline}})],1)],1)],1)},ae=[],ne=(i("0706"),{data:function(){return{view:null,map:null,bufferGeometry:null,graphicLayer:null,bufferLayer:null}},methods:{drawPoint:function(){var e=this;e.esriLoader.loadModules(["esri/views/draw/Draw","esri/Graphic","esri/geometry/geometryEngine"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=i[0],n=i[1],r=i[2],o=new a({view:e.view});d();var s=o.create("point");function l(t){var i=t.coordinates,a={type:"point",x:i[0],y:i[1],spatialReference:e.view.spatialReference},o={type:"simple-fill",color:[128,128,128,.5],outline:{color:[0,0,0,.5],width:2}},s=r.geodesicBuffer(a,500,"kilometers");e.bufferLayer.add(new n({geometry:s,symbol:o}))}function c(t){var i=t.coordinates;d();var a={type:"point",x:i[0],y:i[1],spatialReference:e.view.spatialReference},r=new n({geometry:a,symbol:{type:"simple-marker",style:"square",color:"red",size:"16px",outline:{color:[255,255,0],width:3}}});e.graphicLayer.add(r)}function d(){e.graphicLayer.removeAll(),e.bufferLayer.removeAll()}e.view.focus(),s.on(["cursor-update"],c),s.on(["draw-complete"],l)})},drawPline:function(){var e=this;this.esriLoader.loadModules(["esri/views/draw/Draw","esri/Graphic","esri/geometry/geometryEngine","esri/geometry/Polyline"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new a({view:e.view});w();var l=s.create("polyline");function c(e){if(e.vertices.length>1){var t=p(e);t.selfIntersects?e.preventDefault():d()}}function d(){var t={type:"simple-fill",color:[128,128,128,.5],outline:{color:[0,0,0,.5],width:2}},i=r.geodesicBuffer(e.bufferGeometry,500,"kilometers");e.bufferLayer.add(new n({geometry:i,symbol:t}))}function u(e){if(e.vertices.length>1){var t=p(e);t.selfIntersects&&e.preventDefault()}}function p(t){var i=t.vertices;w();var a=new n({geometry:{type:"polyline",paths:i,spatialReference:e.view.spatialReference},symbol:{type:"simple-line",color:"red",width:4,cap:"round",join:"round"}});e.bufferGeometry=new o({paths:i,spatialReference:e.view.spatialReference});var r=v(a.geometry);return r?e.graphicLayer.addMany([a,r]):e.graphicLayer.add(a),{selfIntersects:r}}function m(e){if(e.paths[0].length<3)return!1;var t=e.clone(),i=f(e);return t.removePoint(0,t.paths[0].length-1),r.crosses(i,t)}function v(e){return m(e)?new n({geometry:f(e),symbol:{type:"simple-line",style:"short-dot",width:3.5,color:"yellow"}}):null}function f(t){var i=t.clone(),a=i.removePoint(0,i.paths[0].length-1),n=i.getPoint(0,i.paths[0].length-1);return{type:"polyline",spatialReference:e.view.spatialReference,hasZ:!1,paths:[[[n.x,n.y],[a.x,a.y]]]}}function w(){e.graphicLayer.removeAll(),e.bufferLayer.removeAll()}e.view.focus(),l.on(["vertex-add","vertex-remove","cursor-update","redo","undo"],u),l.on(["draw-complete"],c)})}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/views/MapView","esri/WebMap","esri/layers/GraphicsLayer","esri/geometry/Polyline"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3];e.map=new n({portalItem:window.mapConfig.WebMap.portalItem}),e.view=new a({container:"viewDiv",map:e.map,center:[window.mapConfig.center.x,window.mapConfig.center.y],zoom:5}),e.view.ui.add("gbar","top-right"),e.bufferGeometry=new o,e.graphicLayer=new r,e.bufferLayer=new r,e.map.addMany([e.bufferLayer,e.graphicLayer])})},watch:{}}),re=ne,oe=(i("aa9d"),Object(c["a"])(re,ie,ae,!1,null,"51f05196",null)),se=oe.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("el-card",{staticClass:"box-card",attrs:{id:"sidebar"}},[i("div",{staticStyle:{"padding-bottom":"20px","padding-left":"10px"}},[i("label",{staticClass:"label"},[e._v("From: 01/01/1998")]),i("br"),i("br"),i("br"),i("label",{staticClass:"label"},[e._v("To: 05/31/1998")]),i("br")]),i("div",{attrs:{align:"center"}},[i("br"),i("el-button",{staticClass:"esri-widget",attrs:{id:"hotspotButton"},on:{click:e.hotSpotAnalyze}},[e._v("Analyze 911 Calls")])],1),i("div",{staticStyle:{"padding-bottom":"20px","padding-left":"10px"}},[i("br"),i("br"),i("label",{staticClass:"label",attrs:{id:"message"}})]),i("div",{staticClass:"esri-widget",attrs:{id:"legendDiv"}})])],1)},ce=[],de=(i("ac6a"),{data:function(){return{view:null,map:null}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/Map","esri/views/MapView"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,2),a=i[0],n=i[1];e.map=new a({basemap:"dark-gray-vector"}),e.view=new n({container:"viewDiv",map:e.map,center:[-122.812,45.474],zoom:10}),e.view.ui.add("sidebar","top-right")})},methods:{hotSpotAnalyze:function(){var e=this;e.esriLoader.loadModules(["esri/tasks/Geoprocessor","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,2),a=i[0],n=i[1],r=window.mapConfig.GeoprocessingService.hotSpotUrl,o=new a(r);o.outSpatialReference={wkid:102100};var s={Query:c()};function l(t){message.innerText="Adding MapImageLayer to the map...";var i=o.getResultMapImageLayer(t.jobId);i.opacity=.7,i.title="HotspotLayer",e.map.layers.add(i),i.on("layerview-create",function(){message.innerText="Job status: 'job-succeeded'";new n({view:e.view,container:"legendDiv"})})}function c(){var e,t="1998-01-01 00:00:00",i="1998-05-31 00:00:00",a=[];return a.push("(Date >= date '"+t+"' and Date <= date '"+i+"')"),a.length>1&&(e=a.join(" AND ")),e}function d(){e.map.layers.forEach(function(t,i){"HotspotLayer"===t.title&&e.map.layers.remove(t)})}function u(e){message.innerText="Job status: '"+e.jobStatus+"'",console.log(e.jobStatus)}function p(e){message.innerText="",console.log("gp error: ",e)}d(),o.submitJob(s).then(l,p,u)})}}}),ue=de,pe=(i("3024"),Object(c["a"])(ue,le,ce,!1,null,null,null)),me=pe.exports,ve=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("div",{staticClass:"esri-widget",attrs:{id:"paneDiv"}},[i("div",{attrs:{id:"contentDiv"}},[i("p",[e._v("\n        点击地图，添加路径分析停靠点。计算上一停靠的和最新添加点的路径。\n        如果添加的点无法到达，将选取上一停靠点作为起始点。\n      ")])])])])}],we={data:function(){return{}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/Graphic","esri/layers/GraphicsLayer","esri/tasks/RouteTask","esri/tasks/support/RouteParameters","esri/tasks/support/FeatureSet","esri/config"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t=Object(U["a"])(e,8),i=t[0],a=t[1],n=t[2],r=t[3],o=t[4],s=t[5],l=t[6],c=(t[7],new o({url:window.mapConfig.GeoprocessingService.routeTaskUrl})),d=new r,u=new s({stops:new l,outSpatialReference:{wkid:3857}}),p={type:"simple-marker",style:"cross",size:15,outline:{width:4}},m={type:"simple-line",color:[0,0,255,.5],width:5},v=new i({basemap:"streets",layers:[d]}),f=new a({container:"viewDiv",map:v,center:[-117.195,34.057],zoom:14});function w(e){var t=new n({geometry:e.mapPoint,symbol:p});d.add(t),u.stops.features.push(t),u.stops.features.length>=2&&c.solve(u).then(g)}function g(e){var t=e.routeResults[0].route;t.symbol=m,d.add(t)}f.on("click",w),f.ui.add("paneDiv","top-right")})}},ge=we,he=(i("2b73"),Object(c["a"])(ge,ve,fe,!1,null,"66f01c51",null)),ye=he.exports,be=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_e=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("div",{staticClass:"esri-widget",attrs:{id:"paneDiv"}},[e._v("点击地图，执行视域分析")])])}],Ee={data:function(){return{}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/GraphicsLayer","esri/Graphic","esri/geometry/Point","esri/tasks/Geoprocessor","esri/tasks/support/LinearUnit","esri/tasks/support/FeatureSet"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t=Object(U["a"])(e,8),i=t[0],a=t[1],n=t[2],r=t[3],o=t[4],s=t[5],l=t[6],c=t[7],d=window.mapConfig.GeoprocessingService.viewshedUrl,u=new i({basemap:"hybrid",ground:"world-elevation"}),p=new a({container:"viewDiv",map:u,camera:{position:[7.59564,46.06595,5184],tilt:70}}),m=new n;u.add(m);var v={type:"simple-marker",color:[255,0,0],outline:{color:[255,255,255],width:2}},f={type:"simple-fill",color:[226,119,40,.75],outline:{color:[255,255,255],width:1}},w=new s(d);function g(e){m.removeAll();var t=new o({longitude:e.mapPoint.longitude,latitude:e.mapPoint.latitude}),i=new r({geometry:t,symbol:v});m.add(i);var a=[];a.push(i);var n=new c;n.features=a;var s=new l;s.distance=5,s.units="miles";var d={Input_Observation_Point:n,Viewshed_Distance:s};w.execute(d).then(h)}function h(e){var t=e.results[0].value.features,i=t.map(function(e){return e.symbol=f,e});m.addMany(i),p.goTo({target:i,tilt:0})}w.outSpatialReference={wkid:102100},p.on("click",g),p.ui.add("paneDiv","top-right")})}},Se=Ee,Ce=(i("cb15"),Object(c["a"])(Se,be,_e,!1,null,"1b4e3e32",null)),Le=Ce.exports,xe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Me=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("div",{staticClass:"esri-widget",attrs:{id:"paneDiv"}},[i("div",{attrs:{id:"contentDiv"}},[i("p",[e._v("点击地图，添加目标点。计算沿线的高程起、落")]),i("p",[e._v("总里程: 0 km")]),i("p",[e._v("地形上升: 0 m")]),i("p",[e._v("地形下降: 0 m")])])])])}],Te={data:function(){return{}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/GraphicsLayer","esri/Graphic","esri/geometry/Point","esri/tasks/Geoprocessor","esri/tasks/support/LinearUnit","esri/tasks/support/FeatureSet","esri/config"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t=Object(U["a"])(e,9),i=t[0],a=t[1],n=t[2],r=t[3],o=(t[4],t[5],t[6],t[7]),s=(t[8],window.mapConfig.GeoprocessingService.viewshedUrl,new n),l=new i({basemap:"topo",ground:"world-elevation",layers:[s]}),c=new a({container:"viewDiv",map:l,center:[7.9878,46.3159],zoom:16});c.ui.add("paneDiv","top-right");var d=new RouteParameters({stops:new o,outSpatialReference:{wkid:3857}}),u={type:"point-3d",symbolLayers:[{type:"object",width:35,resource:{primitive:"sphere"},material:{color:[255,0,0]}}]},p={type:"line-3d",symbolLayers:[{type:"path",size:17,material:{color:[255,128,0]}}]};function m(e){if(e.mapPoint){var t=new r({geometry:e.mapPoint,symbol:u});s.add(t),d.stops.features.push(t),d.stops.features.length>=2&&routeTask.solve(d).then(v).catch(function(e){s.remove(t),d.stops.features.pop(),console.error(e)})}}function v(e){var t=e.routeResults[0].route,i=t.geometry,a=l.ground.queryElevation(i);a.then(function(e){for(var i=e.geometry.paths[0],a=0,n=0,o=1;o<i.length;o++){var l=i[o][2]-i[o-1][2];l>0?a+=l:n-=l}document.getElementById("distanceDiv").innerHTML="<p>total distance: "+Math.round(1e3*t.attributes.Total_Kilometers)/1e3+" km</p>",document.getElementById("ascDiv").innerHTML="<p>total ascent: "+Math.round(100*a)/100+" m</p>",document.getElementById("descDiv").innerHTML="<p>total descent: "+Math.round(100*n)/100+" m</p>",s.add(new r({geometry:e.geometry,symbol:p}))},function(e){console.error(e)})}c.on("click",m)})}},ke=Te,De=(i("4dff"),Object(c["a"])(ke,xe,Me,!1,null,"5151f855",null)),Ve=De.exports,We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("div",{staticClass:"esri-widget",attrs:{id:"paneDiv"}},[i("div",{attrs:{id:"resultsDiv"}},[e._v("\n      点击地图，查看目标点在滑坡前后的高程变化\n    ")]),i("div",{attrs:{id:"activeElevationLayerDiv"}},[e._v("\n      图例:\n      "),e._m(0),i("el-checkbox",{on:{change:e.checkboxChange},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("显示滑坡后的地表")])],1)])])},Oe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",{attrs:{id:"green"}},[i("span",[e._v("滑坡前的地表点")])]),i("li",{attrs:{id:"red"}},[i("span",[e._v("滑坡后的地表点")])])])}],je={data:function(){return{afterLandslideLayer:null,checked:!0}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/Graphic","esri/geometry/Polyline","esri/layers/ElevationLayer","esri/core/promiseUtils"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,6),a=i[0],n=i[1],r=i[2],o=i[3],s=i[4],l=i[5],c=window.mapConfig.GeoprocessingService.beforeLandslideUrl,d=window.mapConfig.GeoprocessingService.afterLandslideUrl,u=new s({url:c});e.afterLandslideLayer=new s({url:d});var p=new a({basemap:"satellite",ground:{layers:[u,e.afterLandslideLayer]}}),m=new n({container:"viewDiv",map:p,camera:{heading:332.8,tilt:65.5,position:{x:-13563643,y:6153016,z:577,spatialReference:{wkid:3857}}}}),v={type:"point-3d",symbolLayers:[{type:"object",material:{color:[150,26,15]},resources:{primitive:"sphere"},width:8}]},f={type:"point-3d",symbolLayers:[{type:"object",material:{color:[21,150,15]},resources:{primitive:"sphere"},width:8}]},w={type:"line-3d",symbolLayers:[{type:"line",material:{color:[150,26,15]},size:1}]},g=document.getElementById("resultsDiv");m.on("click",function(t){g.innerHTML="查询滑坡前后高程差进行中...";var i=t.mapPoint,a=u.queryElevation(i),n=e.afterLandslideLayer.queryElevation(i);l.eachAlways([a,n]).then(function(e){var t=e[0].value.geometry,i=e[1].value.geometry;m.graphics.removeAll(),m.graphics.add(new r({geometry:t,symbol:f})),m.graphics.add(new r({geometry:i,symbol:v}));var a=new o({spatialReference:t.spatialReference,hasZ:!0});a.addPath([t,i]),m.graphics.add(new r({geometry:a,symbol:w}));var n=Math.abs(t.z-i.z);g.innerHTML="滑坡前后高程差为: "+n.toFixed(2)+" m"}).catch(function(e){g.innerHTML="高程查询失败： ("+e.message+")"})}),m.ui.add("paneDiv","top-right")})},methods:{checkboxChange:function(){var e=this;e.afterLandslideLayer.visible=event.target.checked}}},Fe=je,Ie=(i("79f2"),Object(c["a"])(Fe,We,Oe,!1,null,"c57bcabc",null)),Ne=Ie.exports,Ae=[{path:"/geodesicBuffer",name:"geodesicBuffer",component:se},{path:"/hotSpot",name:"hotSpot",component:me},{path:"/routeTask",name:"routeTask",component:ye},{path:"/viewshed",name:"viewshed",component:Le},{path:"/elevationQuery",name:"elevationQuery",component:Ve},{path:"/elevationQueryPoint",name:"elevationQueryPoint",component:Ne}],Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}})},$e=[],ze={data:function(){return{view:null}},mounted:function(){this.esriLoader.loadModules(["esri/WebMap","esri/views/MapView","esri/widgets/Editor"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t,i,a=Object(U["a"])(e,3),n=a[0],r=a[1],o=a[2],s=new n({portalItem:{id:"154ba34201774bb29f7c3b68adf52b6a"}}),l=new r({container:"viewDiv",map:s});l.when(function(){function e(e){var t="Police Routes";if("crime map"===e.layer.title.toLowerCase())switch(e.template.name){case"Criminal Homicide":case"Rape":case"Robbery":case"Aggravated Assault":t="Violent Crime";break;case"Arson":case"Burglary":case"Larceny":case"Motor Vehicle Theft":t="Property Crime";break;default:t="Quality of Life"}return t}l.popup.autoOpenEnabled=!1,l.map.layers.forEach(function(e){"Police routes"===e.title?i={layer:e,fieldConfig:[{name:"PatrolType",label:"Patrol Type"}]}:t={layer:e,fieldConfig:[{name:"fulladdr",label:"Full Address"},{name:"neighborhood",label:"Neighborhood"},{name:"ucrdesc",label:"UCR Description"},{name:"crimecategory",label:"Category"},{name:"casestatus",label:"Status"}]}});var a=new o({view:l,layerInfos:[t,i],supportingWidgetDefaults:{featureTemplates:{groupBy:e}}});l.ui.add(a,"top-right")})})}},Be=ze,Re=(i("d3f8"),Object(c["a"])(Be,Pe,$e,!1,null,"5a589b64",null)),He=Re.exports,Ue=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ge=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("div",{staticClass:"esri-widget",attrs:{id:"info"}},[i("h3",[e._v("请在地图上选取目标要素进行编辑")]),i("h4",[e._v("\n      如果选取要素的Issue Status状态值为'Completed'，您只能更新'Point of contact information'\n      "),i("p",[e._v("否则，您可以更新'Update issue'及'Point of contact information'。且当姓、名未输入时，不可输入电话或邮箱")])])]),i("div",{staticClass:"esri-widget esri-hidden",attrs:{id:"update"}},[i("div",{staticClass:"scroller esri-component",attrs:{id:"form"}}),i("input",{staticClass:"esri-button",attrs:{type:"button",value:"更新",id:"btnUpdate"}})])])}],qe=(i("456d"),{data:function(){return{view:null}},mounted:function(){this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/widgets/FeatureForm","esri/layers/FeatureLayer","esri/config"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t,i,a=Object(U["a"])(e,5),n=a[0],r=a[1],o=a[2],s=a[3],l=(a[4],new s({portalItem:{id:"1e6a26701cd94ca1880e6fc9c908f410"}})),c=new n({basemap:"streets",layers:[l]}),d=new r({map:c,container:"viewDiv",center:[-88.149,41.773],zoom:14}),u=new o({container:"form",groupDisplay:"sequential",layer:l,fieldConfig:[{name:"status",editable:!1,label:"Issue status",description:"E.g. submitted, received, in progress, or completed."},{name:"resolution",label:"Resolution",editable:!1,description:"Resolution if status is 'Completed'",visibilityExpression:"($feature.status == 'Completed') && (!(IsEmpty($feature.resolution)))"},{label:"Update issue",description:"If work has not yet begun on issue, categorize and detail the problem",visibilityExpression:"($feature.status == 'Submitted') || ($feature.status == 'Received')",fieldConfig:[{name:"category",label:"Category"},{name:"AnimalProbType",label:"Animal problem type",visibilityExpression:"$feature.category == 'Animal'",description:"E.g. barking dog, bite, etc."},{name:"BlightProbType",label:"Blight problem type",description:"E.g. graffiti, abandoned vehicle, etc.",visibilityExpression:"$feature.category == 'Blight'"},{name:"HealthProbType",label:"Health problem type",description:"E.g. food poisoning, mosquito, etc.",visibilityExpression:"$feature.category == 'Health'"},{name:"LanUseProbType",label:"Land Use problem type",description:"E.g. illegal parking, work without permit, etc.",visibilityExpression:"$feature.category == 'Land Use'"},{name:"ParktreeProbType",label:"Park/Tree problem type",description:"E.g. unsafe tree, light out, etc.",visibilityExpression:"$feature.category == 'Park/Tree'"},{name:"RoadProbType",label:"Road problem type",description:"E.g. pothole, sidewalk damage, etc.",visibilityExpression:"$feature.category == 'Road'"},{name:"SnowIceProbType",label:"Snow/Ice problem type",description:"E.g. sidewalk not cleared, etc.",visibilityExpression:"$feature.category == 'Snow/Ice'"},{name:"TrashProbType",label:"Trash problem type",description:"E.g. bulk item pickup, recycling pickup, etc.",visibilityExpression:"$feature.category == 'Trash'"},{name:"UtiltiesProbType",label:"Utility problem type",description:"E.g. storm drain clog, water leak, etc.",visibilityExpression:"$feature.category == 'Utility'"},{name:"details",label:"Details",description:"Enter additional details about the problem",visibilityExpression:"($feature.category == 'Animal' && (!IsEmpty($feature.AnimalProbType))) || ($feature.category == 'Blight' && (!IsEmpty($feature.BlightProbType))) || ($feature.category == 'Health' && (!IsEmpty($feature.HealthProbType))) || ($feature.category == 'Land Use' && (!IsEmpty($feature.LanUseProbType))) || ($feature.category == 'Park/Tree' && (!IsEmpty($feature.ParktreeProbtype))) || ($feature.category == 'Road' && (!IsEmpty($feature.RoadProbtype))) || ($feature.category == 'Snow/Ice' && (!IsEmpty($feature.SnowIceProbtype))) || ($feature.category == 'Trash' && (!IsEmpty($feature.TrashProbType))) || ($feature.category == 'Utility' && (!IsEmpty($feature.UtiltiesProbType)))"}]},{label:"Point of contact information",description:"Who should we contact regarding this problem?",fieldConfig:[{name:"pocfirstname",label:"First name"},{name:"poclastname",label:"Last name"},{name:"pocphone",label:"Telephone number",visibilityExpression:"((!IsEmpty($feature.pocfirstname)) && (!IsEmpty($feature.poclastname))) "},{name:"pocemail",label:"Email",visibilityExpression:"((!IsEmpty($feature.pocfirstname)) && (!IsEmpty($feature.poclastname))) "}]}]});function p(){t&&t.remove()}function m(e){l.queryFeatures({objectIds:[e],outFields:["*"],returnGeometry:!0}).then(function(e){e.features.length>0&&(i=e.features[0],u.feature=i,d.whenLayerView(i.layer).then(function(e){t=e.highlight(i)}),document.getElementById("update").classList.contains("esri-hidden")&&(document.getElementById("info").classList.add("esri-hidden"),document.getElementById("update").classList.remove("esri-hidden")))})}function v(e){document.getElementById("btnUpdate").style.cursor="progress",l.applyEdits(e).then(function(e){if(e.addFeatureResults.length>0){var t=e.addFeatureResults[0].objectId;m(t)}document.getElementById("btnUpdate").style.cursor="pointer"}).catch(function(e){console.log("==============================================="),console.error("[ applyEdits ] FAILURE: ",e.code,e.name,e.message),console.log("error = ",e),document.getElementById("btnUpdate").style.cursor="pointer"})}d.popup.autoOpenEnabled=!1,u.on("submit",function(){if(i){var e=u.getValues();Object.keys(e).forEach(function(t){i.attributes[t]=e[t]});var t={updateFeatures:[i]};v(t)}}),document.getElementById("btnUpdate").onclick=function(){u.submit()},d.ui.add("update","top-right"),d.ui.add("info","top-left",1),d.on("click",function(e){console.log("ssssssssssssssssss"),p(),d.hitTest(e).then(function(e){var t=e.results;t.length>0&&t[0].graphic&&t[0].graphic.layer===l?m(t[0].graphic.attributes[l.objectIdField]):document.getElementById("update").classList.add("esri-hidden")})})}).catch(function(e){console.log("111error = ",e)})}}),Ze=qe,Ye=(i("0f42"),Object(c["a"])(Ze,Ue,Ge,!1,null,"bdbe4618",null)),Je=Ye.exports,Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools"),i("el-button-group",{attrs:{id:"querybar"}},[i("el-input",{model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search",id:"queryButton"},on:{click:e.queryAtrributes},slot:"append"},[e._v("查询")])],1)],1)],1)},Ke=[],Xe=(i("3022"),{data:function(){return{input:"GroundArea > 500 and PM2p5_RVlu < 1",view:null,featureLayer:null,highlight:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/WebMap","esri/layers/FeatureLayer","esri/widgets/Legend","esri/widgets/Expand","esri/widgets/Bookmarks","esri/core/lang","esri/core/promiseUtils","esri/core/watchUtils"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,10),a=i[0],n=i[1],r=(i[2],i[3]),o=(i[4],i[5],i[6],i[7],i[8],i[9],new a({basemap:"hybrid"})),s=new n({container:"viewDiv",map:o,extent:{xmin:-9177811,ymin:4247e3,xmax:-9176791,ymax:4247784,spatialReference:102100}});e.$store.state.mapStore.mapView=s,e.view=s;var l=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Landscape_Trees/FeatureServer/0"});e.featureLayer=l,o.add(l),e.layer=l,s.whenLayerView(l).then(function(t){s.ui.add("querybar","top-right");var i={where:"GroundArea > 500 and PM2p5_RVlu < 1",outFields:["*"],returnGeometry:!0};e.layer.queryFeatures(i).then(function(i){var a=i.features;e.highlight=t.highlight(a)})})})},computed:{},methods:{queryAtrributes:function(){var e=this,t=this.input;t||(t="1=1"),e.view.whenLayerView(e.featureLayer).then(function(i){var a={where:t,outFields:["*"],returnGeometry:!0};e.featureLayer.queryFeatures(a).then(function(t){var a=t.features;e.highlight&&e.highlight.remove(),e.highlight=i.highlight(a)}).catch(function(){alert("查询条件有误，请重新输入"),this.input="GroundArea > 500 and PM2p5_RVlu < 1"})})}}}),et=Xe,tt=(i("9bdb"),Object(c["a"])(et,Qe,Ke,!1,null,"52187719",null)),it=tt.exports,at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[e._m(0),e._m(1),e._m(2),i("map-tools")],1)},nt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"esri-widget esri-widget--button esri-widget esri-interactive",attrs:{id:"select-by-polygon",title:"多边形选择要素"}},[i("span",{staticClass:"esri-icon-checkbox-unchecked"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"esri-widget",attrs:{id:"info"}},[i("span",{staticClass:"info"},[i("b",[e._v("提示：")])]),i("br"),i("ul",[i("li",[e._v("使用多边形选择工具选择要素，选中要素的属性将展示在此处。")]),i("br"),i("li",[e._v("点击一行来选中其关联的要素或点击要素来展示他的弹框信息。")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"gridDisplay"}},[i("span",{staticClass:"info",attrs:{id:"featureCount"}}),i("div",{attrs:{id:"grid"}})])}],rt=(i("6b54"),{data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebMap","esri/views/MapView","esri/layers/CSVLayer","esri/layers/GraphicsLayer","esri/widgets/Sketch/SketchViewModel","esri/Graphic","esri/widgets/Legend","esri/widgets/Expand","dgrid/OnDemandGrid","dgrid/extensions/ColumnHider","dojo/store/Memory","dstore/legacy/StoreAdapter","dgrid/Selection"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i,a,n,r,o,s,l,c,d=Object(U["a"])(t,13),u=d[0],p=d[1],m=d[2],v=d[3],f=d[4],w=d[5],g=d[6],h=d[7],y=d[8],b=d[9],_=d[10],E=d[11],S=d[12],C=document.getElementById("grid"),L=document.getElementById("info");O(),V(),s.on("create",function(e){"complete"===e.state&&(o.remove(e.graphic),T(e.graphic.geometry))});var x=["__OBJECTID","Category","Season","Name","Nature","wmo_wind"],M=new E({objectStore:new _({idProperty:"__OBJECTID"})});function T(e){if(a.graphics.removeAll(),r){var t={geometry:e,outFields:["*"]};r.queryFeatures(t).then(function(t){var i=t.features;i.length>0?(a.goTo(e.extent.expand(2)),C.style.zIndex=90,L.style.zIndex=80,document.getElementById("featureCount").innerHTML="<b>Showing attributes for "+i.length.toString()+" features </b>"):(C.style.zIndex=80,L.style.zIndex=90),l&&l.remove(),l=r.highlight(i);var n=i.map(function(e,t){return Object.keys(e.attributes).filter(function(e){return-1!==x.indexOf(e)}).reduce(function(t,i){return t[i]=e.attributes[i],t},{})});M.objectStore.data=n,c.set("collection",M)}).catch(F)}}function k(e){a.popup.close();var t=e.rows[0],i=t.data.__OBJECTID,n={objectIds:[parseInt(i)],outFields:["*"],returnGeometry:!0};r.queryFeatures(n).then(function(e){var t=e.features;a.graphics.removeAll();var i=new w({geometry:t[0].geometry,symbol:{type:"simple-marker",style:"circle",color:"orange",size:"12px",outline:{color:[255,255,0],width:2}}});a.graphics.add(i)}).catch(F)}function D(e){var t=e.filter(function(e,t){if(-1!==x.indexOf(e.name))return e}).map(function(e){return"__OBJECTID"===e.name?{field:e.name,label:e.name,sortable:!0,hidden:!0}:{field:e.name,label:e.alias,sortable:!0}});c=new(y.createSubclass([S,b]))({columns:t},"grid"),c.on("dgrid-select",k)}function V(){o=new v,i.add(o),a.ui.add("select-by-polygon","top-left");var e=document.getElementById("select-by-polygon");e.addEventListener("click",function(){W(),a.popup.close(),s.create("polygon")}),s=new f({view:a,layer:o,pointSymbol:{type:"simple-marker",color:[255,255,255,0],size:"1px",outline:{color:"gray",width:0}}})}function W(){a.graphics.removeAll(),c.clearSelection()}function O(){var t="https://arcgis.github.io/arcgis-samples-javascript/sample-data/hurricanes.csv";n=new m({title:"飓风",url:t,copyright:"NOAA",popupTemplate:{title:"{Name}",content:[{type:"text",text:"Category {Category} 飓风在 {ISO_time}经过此处."},{type:"fields",fieldInfos:[{fieldName:"wmo_pres",label:"压力"},{fieldName:"wmo_wind",label:"风速(mph)"}]}],fieldInfos:[{filedName:"ISO_time",format:{dateFormat:"short-date-short-time"}}]},renderer:{type:"unique-value",field:"Category",uniqueValueInfos:j()}}),i=new u({portalItem:{id:"7d127cef99a44327b79f5185602b8b6b"},layers:[n]}),a=new p({container:"viewDiv",map:i,highlightOptions:{color:"#2B65EC",fillOpacity:.4}}),e.$store.state.mapStore.mapView=a;var r=new h({view:a,content:new g({view:a,style:"card"})});a.ui.add(r,"top-left"),a.popup.watch("visible",function(e){e&&W()})}function j(){var e=["cat1.png","cat2.png","cat3.png","cat4.png","cat5.png"],t="https://arcgis.github.io/arcgis-samples-javascript/sample-data/";return e.map(function(e,i){return{value:i+1,symbol:{type:"picture-marker",url:t+e}}})}function F(e){console.log("error:",e)}n.when(function(){D(n.fields),a.whenLayerView(n).then(function(e){r=e})}).catch(F)})},computed:{}}),ot=rt,st=(i("3f26"),Object(c["a"])(ot,at,nt,!1,null,"0560a286",null)),lt=st.exports,ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools"),e._m(0)],1)},dt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"panel"}},[i("div",{staticStyle:{padding:"15px"}},[i("canvas",{attrs:{id:"year-chart",height:"220",width:"600"}}),i("canvas",{attrs:{id:"age-chart",height:"220",width:"600"}}),i("canvas",{staticStyle:{float:"left"},attrs:{id:"disposition-chart",width:"150",height:"400"}}),i("canvas",{staticStyle:{float:"left"},attrs:{id:"gender-chart",width:"150",height:"400"}}),i("canvas",{staticStyle:{float:"left"},attrs:{id:"race-chart",width:"150",height:"400"}})])])}],ut={data:function(){return{view:null,atrributesList:[]}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/views/MapView","esri/WebMap","esri/Graphic","esri/widgets/Legend","esri/widgets/Expand","esri/widgets/Bookmarks","esri/core/lang","esri/core/promiseUtils","esri/core/watchUtils"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i,a,n,r,o,s,l,c,d=Object(U["a"])(t,9),u=d[0],p=d[1],m=(d[2],d[3]),v=d[4],f=d[5],w=(d[6],d[7]),g=d[8],h=new p({portalItem:{id:"96cf806c32874026bef5f586315f098c"}}),y=new u({map:h,container:"viewDiv",constraints:{minScale:3e5},highlightOptions:{color:"black",haloOpacity:.65,fillOpacity:.45}});e.$store.state.mapStore.mapView=y,y.when().then(function(){y.ui.add("panel","top-right")});var b=document.createElement("div");b.style.padding="15px",b.style.backgroundColor="white",b.style.width="500px",b.innerHTML=["<div id='title' class='esri-widget'>","过去10年中在选点一英里内的入市犯罪<span id='num-homicides'>0</span>起.","受害者平均年龄是<span id='avg-age'>0</span>.平均破案时长为","<span id='avg-open-time'>0</span>.","</div>"].join(" ");var _=new v({expandIconClass:"esri-icon-dashboard",expandTooltip:"Summary stats",view:y,content:b,expanded:"xsmall"!==y.widthBreakpoint});y.ui.add(_,"top-left");var E=new v({view:y,content:new m({view:y}),expanded:"xsmall"!==y.widthBreakpoint});y.ui.add(E,"bottom-left"),y.watch("widthBreakpoint",function(e){_.expanded="xsmall"!==e,E.expanded="xsmall"!==e});var S=new f({view:y}),C=new v({view:y,content:S});y.ui.add(C,"top-left"),S.on("select-bookmark",function(e){C.expanded=!1});var L=document.createElement("div");L.style.padding="10px",L.style.backgroundColor="white",L.style.width="300px",L.innerHTML=["<b>拖动</b>来查看选点一英里内所覆盖范围的数据."].join(" ");var x=new v({expandIconClass:"esri-icon-question",expandTooltip:"如何使用",view:y,content:L});y.ui.add(x,"top-left");var M=null;function T(e,t){var i=e.layer.createQuery();i.geometry=y.toMap(t),i.distance=1,i.units="miles";var a=i.clone(),n=Date.UTC(2018,6,5),r=[{onStatisticField:"("+n+" - milliseconds) / (1000 * 60 * 60 * 24 * 365.25)",outStatisticFieldName:"avg_open_time_years",statisticType:"avg"},{onStatisticField:"1",outStatisticFieldName:"total",statisticType:"count"},{onStatisticField:"CASE WHEN reported_year = 2008 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2008",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2009 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2009",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2010 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2010",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2011 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2011",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2012 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2012",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2013 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2013",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2014 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2014",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2015 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2015",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2016 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2016",statisticType:"sum"},{onStatisticField:"CASE WHEN reported_year = 2017 THEN 1 ELSE 0 END",outStatisticFieldName:"total_2017",statisticType:"sum"},{onStatisticField:"CASE WHEN disposition = 'Closed by arrest' THEN 1 ELSE 0 END",outStatisticFieldName:"num_closed_arrest",statisticType:"sum"},{onStatisticField:"CASE WHEN disposition = 'Open/No arrest' THEN 1 ELSE 0 END",outStatisticFieldName:"num_open",statisticType:"sum"},{onStatisticField:"CASE WHEN disposition = 'Closed without arrest' THEN 1 ELSE 0 END",outStatisticFieldName:"num_closed_no_arrest",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years = -99 THEN 0 ELSE victim_age_years END",outStatisticFieldName:"avg_age",statisticType:"avg"},{onStatisticField:"CASE WHEN victim_age_years = -99 THEN 1 ELSE 0 END",outStatisticFieldName:"age_unknown",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years >= 0 AND victim_age_years <= 18 THEN 1 ELSE 0 END",outStatisticFieldName:"age_18_under",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years >= 19 AND victim_age_years <= 30 THEN 1 ELSE 0 END",outStatisticFieldName:"age_19_30",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years >= 31 AND victim_age_years <= 44 THEN 1 ELSE 0 END",outStatisticFieldName:"age_31_44",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years >= 45 AND victim_age_years <= 65 THEN 1 ELSE 0 END",outStatisticFieldName:"age_45_64",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_age_years >= 65 THEN 1 ELSE 0 END",outStatisticFieldName:"age_65_over",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_sex = 'Male' THEN 1 ELSE 0 END",outStatisticFieldName:"num_males",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_sex = 'Female' THEN 1 ELSE 0 END",outStatisticFieldName:"num_females",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_sex = 'Unknown' THEN 1 ELSE 0 END",outStatisticFieldName:"num_unknown_gender",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_race = 'Asian' THEN 1 ELSE 0 END",outStatisticFieldName:"num_asian",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_race = 'Black' THEN 1 ELSE 0 END",outStatisticFieldName:"num_black",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_race = 'Hispanic' THEN 1 ELSE 0 END",outStatisticFieldName:"num_hispanic",statisticType:"sum"},{onStatisticField:"CASE WHEN victim_race = 'White' THEN 1 ELSE 0 END",outStatisticFieldName:"num_white",statisticType:"sum"}];a.outStatistics=r;var o=e.queryFeatures(a).then(function(e){var t=e.features[0].attributes;return t},function(e){console.error(e)}),s=a.clone();s.where="disposition = 'Open/No arrest'";var l=e.queryFeatures(s).then(function(e){var t=e.features[0].attributes;return t},function(e){console.error(e)});return e.queryObjectIds(i).then(function(t){M&&(M.remove(),M=null),M=e.highlight(t)}),w.eachAlways([o,l])}function k(e){var t=e[0].value,d=e[1].value,u={solved:[t.total_2008-d.total_2008,t.total_2009-d.total_2009,t.total_2010-d.total_2010,t.total_2011-d.total_2011,t.total_2012-d.total_2012,t.total_2013-d.total_2013,t.total_2014-d.total_2014,t.total_2015-d.total_2015,t.total_2016-d.total_2016,t.total_2017-d.total_2017],unsolved:[d.total_2008,d.total_2009,d.total_2010,d.total_2011,d.total_2012,d.total_2013,d.total_2014,d.total_2015,d.total_2016,d.total_2017]};D(i,u);var p={solved:[t.age_65_over-d.age_65_over,t.age_45_64-d.age_45_64,t.age_31_44-d.age_31_44,t.age_19_30-d.age_19_30,t.age_18_under-d.age_18_under,t.age_unknown-d.age_unknown],unsolved:[d.age_65_over,d.age_45_64,d.age_31_44,d.age_19_30,d.age_18_under,d.age_unknown]};D(a,p);var m=[t.num_closed_arrest,t.num_closed_no_arrest,t.num_open];D(n,m);var v=[t.num_males-d.num_males,d.num_males,t.num_females-d.num_females,d.num_females];D(r,v);var f=[t.num_asian-d.num_asian,d.num_asian,t.num_black-d.num_black,d.num_black,t.num_hispanic-d.num_hispanic,d.num_hispanic,t.num_white-d.num_white,d.num_white];D(o,f),l.innerHTML=Math.round(t.avg_age),s.innerHTML=t.total,c.innerHTML=d.avg_open_time_years.toFixed(1)}function D(e,t){"doughnut"===e.config.type?e.data.datasets[0].data=t:(e.data.datasets[0].data=t.solved,e.data.datasets[1].data=t.unsolved),e.update()}function V(){s=document.getElementById("num-homicides"),l=document.getElementById("avg-age"),c=document.getElementById("avg-open-time");var e=document.getElementById("year-chart");i=new Chart(e.getContext("2d"),{type:"bar",data:{labels:["2008","2009","2010","2011","2012","2013","2014","2015","2016","2017"],datasets:[{label:"结案(2017)",backgroundColor:"#149dcf",stack:"Stack 0",data:[0,0,0,0,0,0,0,0,0,0]},{label:"未结案",backgroundColor:"#ed5050",stack:"Stack 0",data:[0,0,0,0,0,0,0,0,0,0]}]},options:{responsive:!1,legend:{position:"top"},title:{display:!0,text:"入室犯罪-按年统计"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}]}}});var t=document.getElementById("age-chart");a=new Chart(t.getContext("2d"),{type:"horizontalBar",data:{labels:["65+","45-64","31-44","18-30","0-18","Not sure"],datasets:[{label:"结案(2017)",backgroundColor:"#149dcf",stack:"Stack 0",data:[0,0,0,0,0,0]},{label:"未结案",backgroundColor:"#ed5050",stack:"Stack 0",data:[0,0,0,0,0,0]}]},options:{responsive:!1,legend:{position:"top"},title:{display:!0,text:"年龄统计"},scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],yAxes:[{stacked:!0}]}}});var d=document.getElementById("disposition-chart");n=new Chart(d.getContext("2d"),{type:"doughnut",data:{labels:["抓捕结案","未抓捕结案","未抓捕/未结案"],datasets:[{backgroundColor:["#149dcf","#a6c736","#ed5050"],borderColor:"rgb(255, 255, 255)",borderWidth:1,data:[0,0,0]}]},options:{responsive:!1,cutoutPercentage:35,legend:{position:"bottom"},title:{display:!0,text:"案件状态"}}});var u=document.getElementById("gender-chart");r=new Chart(u.getContext("2d"),{type:"doughnut",data:{labels:["男性 (破案)","男性 (未破案)","女性 (破案)","女性 (未破案)"],datasets:[{backgroundColor:["#149dcf","#0a4d66","#ed5050","#7c2525"],borderColor:"rgb(255, 255, 255)",borderWidth:1,data:[0,0,0,0]}]},options:{responsive:!1,cutoutPercentage:35,legend:{position:"bottom"},title:{display:!0,text:"受害者性别"}}});var p=document.getElementById("race-chart");o=new Chart(p.getContext("2d"),{type:"doughnut",data:{labels:["亚洲裔 (结案)","亚洲裔 (未结案)","黑人 (结案)","黑人 (未结案)","拉美裔 (结案)","拉美裔 (未结案)","白人 (结案)","白人 (未结案)"],datasets:[{backgroundColor:["#ed5050","#7c2525","#149dcf","#0a4d66","#a6c736","#52631a","#fc9220","#7c470d"],borderColor:"rgb(255, 255, 255)",borderWidth:1,data:[0,0,0,0,0,0,0,0]}]},options:{responsive:!1,cutoutPercentage:35,legend:{position:"bottom"},title:{display:!0,text:"受害者种族"}}})}y.when().then(function(){V();var e=h.layers.getItemAt(0);e.outFields=["victim_age_years","victim_race","victim_sex","reported_year","disposition"],y.whenLayerView(e).then(function(e){g.whenFalseOnce(e,"updating",function(t){y.on(["click","drag"],function(t){t.stopPropagation(),T(e,t).then(k)})})})})})},computed:{}},pt=ut,mt=(i("61ec"),Object(c["a"])(pt,ct,dt,!1,null,"f9d41122",null)),vt=mt.exports,ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},wt=[],gt={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new r(window.mapConfig.FeatureLayer.uniqueValueLayer),l=new r(window.mapConfig.FeatureLayer.statesLayer),c=new a({layers:[l,s]}),d=new n({container:"viewDiv",map:c,extent:window.mapConfig.FeatureLayer.extent,spatialReference:window.mapConfig.FeatureLayer.spatialReference});e.$store.state.mapStore.mapView=d;var u=new o({view:d,layerInfos:[{layer:s}]});d.ui.add(u,"bottom-left")})}},ht=gt,yt=(i("2b3e"),Object(c["a"])(ht,ft,wt,!1,null,"f54a8e50",null)),bt=yt.exports,_t=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},Et=[],St={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new r(window.mapConfig.FeatureLayer.classBreakSizeLayer),l=new r(window.mapConfig.FeatureLayer.statesLayer),c=new a({layers:[l,s]}),d=new n({container:"viewDiv",map:c,extent:window.mapConfig.FeatureLayer.extent,spatialReference:window.mapConfig.FeatureLayer.spatialReference});e.$store.state.mapStore.mapView=d,d.ui.add(new o({view:d}),"bottom-left")})}},Ct=St,Lt=(i("cb65"),Object(c["a"])(Ct,_t,Et,!1,null,"d3d082ca",null)),xt=Lt.exports,Mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},Tt=[],kt={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new r(window.mapConfig.FeatureLayer.classBreakColorLayer),l=new a({basemap:"gray",layers:[s]}),c=new n({container:"viewDiv",map:l,center:[-122.3487846,47.58907],zoom:12});e.$store.state.mapStore.mapView=c,c.ui.add(new o({view:c,layerInfos:[{layer:s}]}),"bottom-left")})}},Dt=kt,Vt=(i("9e5e"),Object(c["a"])(Dt,Mt,Tt,!1,null,"ca6e3d8a",null)),Wt=Vt.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},jt=[],Ft={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new r(window.mapConfig.FeatureLayer.visualizeColorLayer),l=new r(window.mapConfig.FeatureLayer.statesLayer),c=new a({layers:[l,s]}),d=new n({container:"viewDiv",map:c,extent:window.mapConfig.FeatureLayer.extent,spatialReference:window.mapConfig.FeatureLayer.spatialReference});e.$store.state.mapStore.mapView=d,d.ui.add(new o({view:d,layerInfos:[{layer:s},{layer:l}]}),"bottom-left")})}},It=Ft,Nt=(i("8113"),Object(c["a"])(It,Ot,jt,!1,null,"5c2ece50",null)),At=Nt.exports,Pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},$t=[],zt={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new r(window.mapConfig.FeatureLayer.visualizeSizeLayer),l=new r(window.mapConfig.FeatureLayer.statesLayer),c=new a({layers:[l,s]}),d=new n({container:"viewDiv",map:c,extent:window.mapConfig.FeatureLayer.extent,spatialReference:window.mapConfig.FeatureLayer.spatialReference});e.$store.state.mapStore.mapView=d,d.ui.add(new o({view:d,layerInfos:[{layer:s},{layer:l}]}),"bottom-left")})}},Bt=zt,Rt=(i("1926"),Object(c["a"])(Bt,Pt,$t,!1,null,"4c209d08",null)),Ht=Rt.exports,Ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1),e._m(0)])},Gt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"containerDiv"}},[i("span",{attrs:{id:"title"}},[e._v("% population in poverty")]),i("div",{attrs:{id:"slider"}})])}],qt={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){this.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/renderers/smartMapping/creators/color","esri/renderers/smartMapping/statistics/histogram","esri/widgets/ColorSlider","esri/core/lang"],{url:window.mapConfig.jsapiUrl}).then(function(e){var t=Object(U["a"])(e,7),i=t[0],a=t[1],n=t[2],r=t[3],o=t[4],s=t[5],l=(t[6],new i({basemap:"gray-vector"})),c=new a({container:"viewDiv",map:l,center:[-85.0502,33.125524],zoom:6}),d=new n({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/counties_politics_poverty/FeatureServer/0",visible:!1,popupTemplate:{title:"{COUNTY}, {STATE}",content:"{POP_POVERTY} of {TOTPOP_CY} people live below the poverty line.",fieldInfos:[{fieldName:"POP_POVERTY",format:{digitSeparator:!0,places:0}},{fieldName:"TOTPOP_CY",format:{digitSeparator:!0,places:0}}]}});l.add(d);var u,p={layer:d,basemap:l.basemap,valueExpression:"( $feature.POP_POVERTY / $feature.TOTPOP_CY ) * 100",view:c,theme:"above-and-below",outlineOptimizationEnabled:!0};r.createContinuousRenderer(p).then(function(e){return u=e,d.renderer=u.renderer,d.visible||(d.visible=!0),o({layer:d,valueExpression:p.valueExpression,view:c,numBins:70})}).then(function(e){var t=s.fromRendererResult(u,e);function i(){var e=d.renderer.clone(),i=e.visualVariables[0].clone(),a=e.visualVariables[1];i.stops=t.stops,e.visualVariables=[i,a],d.renderer=e}t.container="slider",t.primaryHandleEnabled=!0,t.labelFormatFunction=function(e,t){return e.toFixed(1)},t.histogramConfig.dataLineCreatedFunction=function(e,t,i){if(null!=i){e.setAttribute("x2","66%");var a=0===i?"-":"+";t.innerHTML=a+"σ"}},t.viewModel.precision=1,c.ui.add("containerDiv","bottom-left"),t.on(["thumb-change","thumb-drag","min-change","max-change"],i)}).catch(function(e){console.log("there was an error: ",e)})})}},Zt=qt,Yt=(i("dd08"),Object(c["a"])(Zt,Ut,Gt,!1,null,"6626cbe3",null)),Jt=Yt.exports,Qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},Kt=[],Xt={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebMap","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Bookmarks"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=25e5,l=new n({container:"viewDiv",map:new a({portalItem:{id:"f0e331d7986041ba8267298f579b3afe"}})});e.$store.state.mapStore.mapView=l;var c="Round($feature.TEMP) + '° F';",d={labelExpressionInfo:{expression:c},labelPlacement:"above-left",where:"TEMP <= 32"};d.symbol=b("#4792c1");var u={labelExpressionInfo:{expression:c},labelPlacement:"above-left",where:"TEMP > 32"};u.symbol=b("#f47742");var p="22",m={labelExpressionInfo:{expression:p},labelPlacement:"above-right",minScale:s};m.symbol=b("#3ba53f");var v="$feature.R_HUMIDITY + '% RH'",f={labelExpressionInfo:{expression:v},labelPlacement:"below-left",minScale:s};f.symbol=b("#c17c47");var w="$feature.STATION_NAME",g={labelPlacement:"below-right",labelExpressionInfo:{expression:w},minScale:s};g.symbol=b("black");var h="https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/weather_stations_010417/FeatureServer/0",y=new r({url:h,renderer:{type:"simple",symbol:{type:"simple-marker",color:[255,255,255,.6],size:4,outline:{color:[0,0,0,.4],width:.5}}},labelingInfo:[g,f,d,u,m]});function b(e){return{type:"text",font:{size:12,weight:"bold"},color:"white",haloColor:e,haloSize:1}}l.map.add(y);var _=new o({view:l});l.ui.add(_,{position:"top-left"})})}},ei=Xt,ti=(i("4ac3"),Object(c["a"])(ei,Qt,Kt,!1,null,"28aaf135",null)),ii=ti.exports,ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},ni=[],ri={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebMap","esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/widgets/Bookmarks"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,5),a=(i[0],i[1]),n=i[2],r=i[3],o=(i[4],{type:"simple",symbol:{type:"simple-marker",size:8,color:"#1D4819"}}),s=new r(window.mapConfig.FeatureLayer.heatMapLayer),l=window.mapConfig.FeatureLayer.heatMapLayer.heatmapRenderer,c=new r(window.mapConfig.FeatureLayer.statesLayer),d=new a({layers:[c,s]}),u=new n({container:"viewDiv",map:d,extent:window.mapConfig.FeatureLayer.extent,spatialReference:window.mapConfig.FeatureLayer.spatialReference});e.$store.state.mapStore.mapView=u,u.when().then(function(){u.watch("scale",function(e){s.renderer=e<=1118224?o:l})})})}},oi=ri,si=(i("46d9"),Object(c["a"])(oi,ai,ni,!1,null,"25d19a10",null)),li=si.exports,ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"viewDiv",attrs:{id:"viewDiv"}},[i("map-tools")],1)},di=[],ui={data:function(){return{view:null}},components:{"map-tools":Y},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebMap","esri/views/MapView","esri/layers/FeatureLayer","esri/renderers/DotDensityRenderer","esri/widgets/Legend","esri/widgets/Bookmarks","esri/widgets/Expand"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,7),a=i[0],n=i[1],r=i[2],o=i[3],s=i[4],l=i[5],c=i[6],d=new a({portalItem:window.mapConfig.FeatureLayer.dotDensityLayer.portalItem}),u=new n({container:"viewDiv",map:d,highlightOptions:{fillOpacity:0,color:[50,50,50]},popup:{dockEnabled:!0,dockOptions:{position:"top-right",breakpoint:!1}},constraints:{maxScale:35e3}});e.$store.state.mapStore.mapView=u,u.when().then(function(){var e=new o(window.mapConfig.FeatureLayer.dotDensityLayer.renderer),t=window.mapConfig.FeatureLayer.dotDensityLayer.url,i=new r({url:t,minScale:2e7,maxScale:35e3,title:"Current Population Estimates (ACS)",popupTemplate:window.mapConfig.FeatureLayer.dotDensityLayer.popupTemplate,renderer:e});d.add(i),u.ui.add([new c({view:u,content:new s({view:u}),group:"top-left",expanded:!0}),new c({view:u,content:new l({view:u}),group:"top-left"})],"top-left")})})}},pi=ui,mi=(i("bcf6"),Object(c["a"])(pi,ci,di,!1,null,"147a7c09",null)),vi=mi.exports,fi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"viewDiv"}},[i("el-card",{staticClass:"box-card",attrs:{id:"menu"}},[i("h4",[e._v("水流流向")]),i("el-slider",{attrs:{id:"sliderDirec",min:0,max:360},on:{change:e.direcChange},model:{value:e.direc,callback:function(t){e.direc=t},expression:"direc"}}),i("h4",[e._v("水流强度")]),i("el-radio-group",{attrs:{id:"radioGroup"},on:{change:e.strengthChange},model:{value:e.strength,callback:function(t){e.strength=t},expression:"strength"}},[i("el-radio",{attrs:{label:"calm"}},[e._v("Calm")]),i("el-radio",{attrs:{label:"rippled"}},[e._v("Rippled")]),i("el-radio",{attrs:{label:"slight"}},[e._v("Slight")]),i("el-radio",{attrs:{label:"moderate"}},[e._v("Moderate")])],1),i("h4",[e._v("水面颜色")]),i("button",{staticClass:"color-btn",attrs:{id:"navy"}}),i("button",{staticClass:"color-btn",attrs:{id:"green"}}),i("button",{staticClass:"color-btn",attrs:{id:"turqoise"}})],1)],1)},wi=[],gi={data:function(){return{direc:260,strength:"moderate",waterLayer:null}},mounted:function(){var e=this;e.esriLoader.loadModules(["esri/WebScene","esri/views/SceneView","esri/layers/FeatureLayer","esri/widgets/Slider"],{url:"https://js.arcgis.com/4.12/"}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=(i[3],new a({portalItem:{id:"8ede93ea9d8d48bc8cdcbea775936a13"}})),s=new n({container:"viewDiv",map:o});function l(t){var i=e.waterLayer.renderer.clone();i.symbol.symbolLayers.getItemAt(0).color=t,e.waterLayer.renderer=i}e.waterLayer=new r({url:window.mapConfig.FeatureLayer.WaterLayer.url,elevationInfo:{mode:"absolute-height",offset:-2},renderer:{type:"simple",symbol:{type:"polygon-3d",symbolLayers:[{type:"water",waveDirection:180,color:"#25427c",waveStrength:"moderate",waterbodySize:"medium"}]}}}),o.add(e.waterLayer),s.ui.add("menu","top-right"),document.getElementById("navy").addEventListener("click",function(){l("#25427c")}),document.getElementById("green").addEventListener("click",function(){l("#039962")}),document.getElementById("turqoise").addEventListener("click",function(){l("#a2f9f5")})})},methods:{strengthChange:function(e){var t=this,i=t.waterLayer.renderer.clone();i.symbol.symbolLayers.getItemAt(0).waveStrength=e,t.waterLayer.renderer=i},checkboxChange:function(){var e=this;e.afterLandslideLayer.visible=event.target.checked},direcChange:function(e){var t=this,i=parseInt(e),a=t.waterLayer.renderer.clone();a.symbol.symbolLayers.getItemAt(0).waveDirection=i,t.waterLayer.renderer=a}}},hi=gi,yi=(i("8265"),Object(c["a"])(hi,fi,wi,!1,null,"48119457",null)),bi=yi.exports,_i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},Ei=[],Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-button-group",[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"搜索",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-search"},on:{click:e.search}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"图层/图例",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-document-copy"},on:{click:e.layerLL}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"日光",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-sunny"},on:{click:e.shadow}})],1),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"高程",placement:"bottom-start"}},[i("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-set-up"},on:{click:e.ground}})],1),i("el-dropdown",{on:{command:e.analysisCommand}},[i("el-button",{attrs:{plain:"",size:"small"}},[i("i",{staticClass:"el-icon-data-analysis"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"measureD"}},[e._v("测距")]),i("el-dropdown-item",{attrs:{command:"measureA"}},[e._v("测面")]),i("el-dropdown-item",{attrs:{command:"sliceB"}},[e._v("剖切")]),i("el-dropdown-item",{attrs:{command:"clear"}},[e._v("清除")])],1)],1)],1)},Ci=[],Li={data:function(){return{currentWidget:null}},mounted:function(){},methods:{removeWidget:function(e){var t=this.$store.state.sceneStore.sceneView;t.ui.remove(e,"top-right")},home:function(){var e=this;this.esriLoader.loadModules(["esri/widgets/Home"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,1),a=i[0],n=e.$store.state.sceneStore.sceneView,r=new a({id:"homeWidget",view:n});n.ui.add([{component:r,position:"top-left",index:0}])})},search:function(){var e=this,t=this;this.esriLoader.loadModules(["esri/widgets/Search"],{url:window.mapConfig.jsapiUrl}).then(function(i){var a=Object(U["a"])(i,1),n=a[0],r=e.$store.state.sceneStore.sceneView;if(t.currentWidget){if("searchWidget"==t.currentWidget.id)return t.removeWidget(t.currentWidget),void(t.currentWidget=null);t.removeWidget(t.currentWidget),t.currentWidget=null}t.currentWidget=new n({id:"searchWidget",view:r}),r.ui.add(t.currentWidget,{position:"top-right"})})},layerLL:function(){var e=this,t=this;this.esriLoader.loadModules(["esri/widgets/LayerList"],{url:window.mapConfig.jsapiUrl}).then(function(i){var a=Object(U["a"])(i,1),n=a[0],r=e.$store.state.sceneStore.sceneView;if(t.currentWidget){if("LayerListWidget"==t.currentWidget.id)return t.removeWidget(t.currentWidget),void(t.currentWidget=null);t.removeWidget(t.currentWidget),t.currentWidget=null}t.currentWidget=new n({id:"LayerListWidget",view:r,listItemCreatedFunction:function(e){var t=e.item;"group"!=t.layer.type&&(t.panel={content:"legend",open:!1})}}),r.ui.add(t.currentWidget,{position:"top-right"})})},shadow:function(){var e=this.$store.state.sceneStore.sceneView;e.environment.lighting.date=Date.now(),e.environment.lighting.directShadowsEnabled=!e.environment.lighting.directShadowsEnabled},ground:function(){var e=this.$store.state.sceneStore.sceneView;e.map.ground.layers.forEach(function(e){e.visible=!e.visible})},analysisCommand:function(e){var t=this,i=this;switch(e){case"measureD":this.esriLoader.loadModules(["esri/widgets/DirectLineMeasurement3D"],{url:window.mapConfig.jsapiUrl}).then(function(e){var a=Object(U["a"])(e,1),n=a[0],r=t.$store.state.sceneStore.sceneView;if(i.currentWidget){if("directLineMeasureWidget"==i.currentWidget.id)return i.removeWidget(i.currentWidget),void(i.currentWidget=null);i.removeWidget(i.currentWidget),i.currentWidget=null}i.directLineMeasureWidget=i.currentWidget=new n({id:"directLineMeasureWidget",view:r}),i.currentWidget.viewModel.newMeasurement(),r.ui.add(i.currentWidget,"top-right")});break;case"measureA":this.esriLoader.loadModules(["esri/widgets/AreaMeasurement3D"],{url:window.mapConfig.jsapiUrl}).then(function(e){var a=Object(U["a"])(e,1),n=a[0],r=t.$store.state.sceneStore.sceneView;if(i.currentWidget){if("areaMeasurement"==i.currentWidget.id)return i.removeWidget(i.currentWidget),void(i.currentWidget=null);i.removeWidget(i.currentWidget),i.currentWidget=null}i.areaMeasurement=i.currentWidget=new n({id:"areaMeasurement",view:r}),i.currentWidget.viewModel.newMeasurement(),r.ui.add(i.currentWidget,"top-right")});break;case"sliceB":this.esriLoader.loadModules(["esri/widgets/Slice"],{url:window.mapConfig.jsapiUrl}).then(function(e){var a=Object(U["a"])(e,1),n=a[0],r=t.$store.state.sceneStore.sceneView;if(i.currentWidget){if("sliceWidget"==i.currentWidget.id)return i.removeWidget(i.currentWidget),void(i.currentWidget=null);i.removeWidget(i.currentWidget),i.currentWidget=null}i.sliceWidget=i.currentWidget=new n({id:"sliceWidget",view:r}),i.currentWidget.viewModel.newSlice(),r.ui.add(i.currentWidget,"top-right")});break;case"clear":i.directLineMeasureWidget&&i.directLineMeasureWidget.destroy(),i.areaMeasurement&&i.areaMeasurement.destroy(),i.sliceWidget&&i.sliceWidget.destroy();break}}},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&this.home()}}},xi=Li,Mi=Object(c["a"])(xi,Si,Ci,!1,null,"5adb7ef2",null),Ti=Mi.exports,ki={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/layers/FeatureLayer","esri/Map","esri/views/SceneView","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=window.mapConfig.SceneFeature.symbolLayer.render,l=new a({url:window.mapConfig.SceneFeature.symbolLayer.url,renderer:s}),c=new n({basemap:"oceans",layers:[l]}),d=window.mapConfig.SceneFeature.symbolLayer.initCam,u=new r({map:c,container:"view3Div",camera:d}),p=new o({view:u});u.ui.add(p,"bottom-left"),e.$store.state.sceneStore.sceneView=u})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},Di=ki,Vi=(i("fbca"),Object(c["a"])(Di,_i,Ei,!1,null,"b62a14cc",null)),Wi=Vi.exports,Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},ji=[],Fi={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebScene","esri/views/SceneView","esri/layers/FeatureLayer","esri/layers/SceneLayer","esri/tasks/support/Query"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,5),a=i[0],n=i[1],r=i[2],o=i[3],s=(i[4],new a({basemap:"satellite",ground:"world-elevation"})),l=new n({container:"view3Div",map:s,camera:{position:{latitude:39.957011,longitude:-75.169457,z:26},tilt:78,heading:315},environment:{lighting:{date:new Date("June 15, 2015 16:00:00 EDT"),directShadowsEnabled:!0,ambientOcclusionEnabled:!0}}});function c(e){return{type:"web-style",name:e,styleName:"EsriRealisticStreetSceneStyle"}}e.$store.state.sceneStore.sceneView=l;var d={type:"unique-value",field:"CATEGORY",defaultSymbol:c("Light_On_Post_-_Light_on"),uniqueValueInfos:[{value:"Overhanging street",symbol:c("Overhanging_Street_-_Light_on")},{value:"Overhanging street and sidewalk",symbol:c("Light_On_Post_-_Light_on")},{value:"Trash bin",symbol:c("Trash_Bin_1")},{value:"Newspaper",symbol:c("Newspaper_Vending_Machine")},{value:"Park bench 1",symbol:c("Park_Bench_2")}],visualVariables:[{type:"rotation",field:"ROTATION"},{type:"size",field:"SIZE",axis:"height"}]},u=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/ArcGIS/rest/services/Philadelphia_LoganSquare_streetFurniture/FeatureServer/0",renderer:d,elevationInfo:{mode:"on-the-ground"}}),p=[{value:"Bus",name:"Bus"},{value:"Taxi",name:"Taxi"},{value:"Ambulance",name:"Ambulance"},{value:"Porsche",name:"Porsche_Carrera"},{value:"Mercedes",name:"Mercedes_S-Class"},{value:"Ford",name:"Ford_Edge"},{value:"Audi",name:"Ford_Edge"},{value:"Volkswagen",name:"Volkswagen_Jetta_Wagon"}],m={type:"unique-value",field:"CATEGORY",uniqueValueInfos:p.map(function(e){return{value:e.value,symbol:{type:"web-style",name:e.name,styleName:"EsriRealisticTransportationStyle"}}}),visualVariables:[{type:"rotation",field:"ROTATION"},{type:"size",field:"SIZE",axis:"depth"}]},v=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Philadelphia_LoganSquare_cars/FeatureServer",outFields:["ROTATION","CATEGORY","SIZE"],renderer:m,elevationInfo:{mode:"on-the-ground"}}),f=[{value:"Acer",symbol:{type:"web-style",name:"Acer",styleName:"EsriRealisticTreesStyle"}},{value:"Bulbophyllum",symbol:{type:"web-style",name:"Bulbophyllum",styleName:"EsriRealisticTreesStyle"}},{value:"Cornus",symbol:{type:"web-style",name:"Cornus",styleName:"EsriRealisticTreesStyle"}},{value:"Pinus",symbol:{type:"web-style",name:"Pinus",styleName:"EsriRealisticTreesStyle"}}],w=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Philadelphia_LoganSquare_vegetation_selection/FeatureServer",elevationInfo:{mode:"on-the-ground"},renderer:{type:"unique-value",field:"CATEGORY",defaultSymbol:{type:"web-style",name:"Acer",styleName:"EsriRealisticTreesStyle"},uniqueValueInfos:f,visualVariables:[{type:"size",field:"SIZE",axis:"height"},{type:"rotation",valueExpression:"random() * 360"}]}}),g=new o({portalItem:{id:"778c03645d9a4bea9c1ef8543327db29"}});s.addMany([u,w,v,g])})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},Ii=Fi,Ni=(i("c6a1"),Object(c["a"])(Ii,Oi,ji,!1,null,"9cf105ec",null)),Ai=Ni.exports,Pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},$i=[],zi={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/FeatureLayer","esri/layers/support/LabelClass"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new a({basemap:"dark-gray"}),l=new n({container:"view3Div",map:s,camera:{position:[-81.76,16.77,1932626],tilt:40}}),c={type:"point-3d",symbolLayers:[{type:"icon",size:12,resource:{primitive:"square"},material:{color:"orange"},outline:{color:"white",size:1}}]},d={type:"simple",symbol:c},u=new o({symbol:{type:"label-3d",symbolLayers:[{type:"text",material:{color:"white"},size:10}]},labelPlacement:"above-center",labelExpressionInfo:{expression:'DefaultValue($feature.CITY_NAME, "no data")'}}),p=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/CITIES_EastUSA/FeatureServer/0",renderer:d,outFields:["CITY_NAME"],maxScale:0,minScale:0,labelingInfo:[u]});s.add(p),e.$store.state.sceneStore.sceneView=l})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},Bi=zi,Ri=(i("c5a8"),Object(c["a"])(Bi,Pi,$i,!1,null,"68ffba56",null)),Hi=Ri.exports,Ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},Gi=[],qi={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s={type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:"#FC921F"},edges:{type:"solid",color:"#72420d",size:1.5}}]},l={type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:"#9E559C"},edges:{type:"solid",color:"#4c294b",size:1.5}}]},c={type:"unique-value",defaultSymbol:{type:"polygon-3d",symbolLayers:[{type:"extrude",material:{color:"#A7C636"},edges:{type:"solid",color:"#4d5b18",size:1.5}}]},defaultLabel:"其它",field:"DESCLU",uniqueValueInfos:[{value:"Residential",symbol:s,label:"住宅"},{value:"Residential Condominium",symbol:l,label:"公寓"}],visualVariables:[{type:"size",field:"ELEVATION",valueUnit:"feet"}]},d=new r({url:"https://services1.arcgis.com/jjVcwHv9AQEq3DH3/ArcGIS/rest/services/Buildings/FeatureServer/0",renderer:c,popupTemplate:{title:"{DESCLU}",content:[{type:"fields",fieldInfos:[{fieldName:"ADDRESS",label:"地址"},{fieldName:"DESCLU",label:"类型"},{fieldName:"ELEVATION",label:"高度"}]}]},outFields:["ADDRESS","DESCLU","ELEVATION"],definitionExpression:"ELEVATION > 0"}),u=new a({basemap:"streets",ground:"world-elevation",layers:[d]}),p=new n({container:"view3Div",map:u,camera:{position:{x:-8354148,y:4641966,z:129,spatialReference:{wkid:3857}},heading:300,tilt:75}}),m=new o({view:p});p.ui.add(m,"bottom-right"),e.$store.state.sceneStore.sceneView=p})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},Zi=qi,Yi=(i("1131"),Object(c["a"])(Zi,Ui,Gi,!1,null,"f7c94d90",null)),Ji=Yi.exports,Qi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}}),e._m(0)],1)},Ki=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"cityStyle"}},[i("input",{attrs:{type:"checkbox",id:"callout",name:"mode",checked:""}}),i("label",{attrs:{for:"callout"}},[e._v("Set callout lines on icons")]),i("input",{attrs:{type:"checkbox",id:"declutter",name:"mode",checked:""}}),i("label",{attrs:{for:"declutter"}},[e._v("Declutter view")]),i("input",{attrs:{type:"checkbox",id:"perspective",name:"mode",checked:""}}),i("label",{attrs:{for:"perspective"}},[e._v("Improve icon perspective")]),i("input",{attrs:{type:"checkbox",id:"relative-to-scene",name:"mode",checked:""}}),i("label",{attrs:{for:"relative-to-scene"}},[e._v("Align icon to building height")])])}],Xi={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/WebScene","esri/layers/FeatureLayer","esri/views/SceneView","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new a({portalItem:{id:"711ddecedece4fd88b728bfe4322c22b"}}),l=new r({container:"view3Div",map:s,environment:{lighting:{directShadowsEnabled:!0,ambientOcclusionEnabled:!0}}}),c={screenLength:40,maxWorldLength:200,minWorldLength:35};function d(e,t){return{type:"point-3d",symbolLayers:[{type:"icon",resource:{href:e},size:20,outline:{color:"white",size:2}}],verticalOffset:c,callout:{type:"line",color:"white",size:2,border:{color:t}}}}var u={type:"unique-value",field:"Type",uniqueValueInfos:[{value:"Museum",symbol:d("https://developers.arcgis.com/javascript/latest/sample-code/visualization-point-styles/live/Museum.png","#D13470")},{value:"Restaurant",symbol:d("https://developers.arcgis.com/javascript/latest/sample-code/visualization-point-styles/live/Restaurant.png","#F97C5A")},{value:"Church",symbol:d("https://developers.arcgis.com/javascript/latest/sample-code/visualization-point-styles/live/Church.png","#884614")},{value:"Hotel",symbol:d("https://developers.arcgis.com/javascript/latest/sample-code/visualization-point-styles/live/Hotel.png","#56B2D6")},{value:"Park",symbol:d("https://developers.arcgis.com/javascript/latest/sample-code/visualization-point-styles/live/Park.png","#40C2B4")}]},p=new n({url:"http://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/LyonPointsOfInterest/FeatureServer",title:"Touristic attractions",elevationInfo:{mode:"relative-to-scene"},renderer:u,outFields:["*"],featureReduction:{type:"selection"},labelingInfo:[{labelExpressionInfo:{value:"{Name}"},symbol:{type:"label-3d",symbolLayers:[{type:"text",material:{color:"white"},halo:{size:1,color:[50,50,50]},size:10}]}}]});s.add(p),document.getElementById("cityStyle").addEventListener("change",function(e){if("declutter"===e.target.id){var t={type:"selection"};p.featureReduction=e.target.checked?t:null}else if("perspective"===e.target.id)p.screenSizePerspectiveEnabled=e.target.checked;else if("callout"===e.target.id){var i=p.renderer.clone();i.uniqueValueInfos.forEach(function(t){t.symbol.verticalOffset=e.target.checked?c:null}),p.renderer=i}else if("relative-to-scene"===e.target.id){var a=e.target.checked?"relative-to-scene":"relative-to-ground";p.elevationInfo={mode:a}}}),l.ui.add(document.getElementById("cityStyle"),"bottom-left");var m=new o({view:l});l.ui.add(m,"bottom-right"),e.$store.state.sceneStore.sceneView=l})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},ea=Xi,ta=(i("91a5"),Object(c["a"])(ea,Qi,Ki,!1,null,"7b18efb0",null)),ia=ta.exports,aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},na=[],ra={components:{"scenetools-component":Ti},data:function(){return{sceneView:null}},created:function(){},destroyed:function(){},mounted:function(){var e=this;this.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/FeatureLayer","esri/widgets/Legend"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=["STATE = 'LA'","STATE = 'AL'","STATE = 'AR'","STATE = 'MS'","STATE = 'TN'","STATE = 'GA'","STATE = 'FL'","STATE = 'SC'","STATE = 'NC'","STATE = 'VA'","STATE = 'KY'","STATE = 'WV'"],l={type:"simple",symbol:{type:"polygon-3d",symbolLayers:[{type:"extrude"}]},visualVariables:[{type:"size",field:"POP_POVERTY",stops:[{value:1e3,size:1e4,label:"1,000"},{value:15e4,size:3e5,label:">150,000"}]},{type:"color",field:"POP_POVERTY",normalizationField:"TOTPOP_CY",legendOptions:{title:"% population with income below poverty level"},stops:[{value:.1,color:"#FFFCD4",label:"<15%"},{value:.35,color:[153,83,41],label:">35%"}]}]},c=new r({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/counties_politics_poverty/FeatureServer/0",renderer:l,title:"Population living in poverty by county",outFields:["*"],popupTemplate:{title:"{COUNTY}, {STATE}",content:"{POP_POVERTY} of {TOTPOP_CY} people live below the poverty line.",fieldInfos:[{fieldName:"POP_POVERTY",format:{digitSeparator:!0,places:0}},{fieldName:"TOTPOP_CY",format:{digitSeparator:!0,places:0}}]},definitionExpression:s.join(" OR ")}),d=new a({basemap:"gray",layers:[c]}),u=new n({container:"view3Div",map:d,camera:{position:{latitude:18.24237,longitude:-88.72943,z:1534560},tilt:45,heading:10}}),p=new o({view:u});u.ui.add(p,"bottom-right"),e.$store.state.sceneStore.sceneView=u})},methods:{},computed:{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}},watch:{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")}}},oa=ra,sa=(i("a203"),Object(c["a"])(oa,aa,na,!1,null,"64d9737e",null)),la=sa.exports,ca=[{path:"/classBreakRender_size",name:"classBreakRender_size",component:xt},{path:"/classBreakRender_color",name:"classBreakRender_color",component:Wt},{path:"/visualizationColor",name:"visualizationColor",component:At},{path:"/visualizationSize",name:"visualizationSize",component:Ht},{path:"/smartMapping",name:"smartMapping",component:Jt},{path:"/uniqueValueRender",name:"uniqueValueRender",component:bt},{path:"/cluster",name:"cluster",component:ii},{path:"/heatMap",name:"heatMap",component:li},{path:"/dotDensity",name:"dotDensity",component:vi},{path:"/water3D",name:"water3D",component:bi},{path:"/symbol3D",name:"symbol3D",component:Wi},{path:"/webStyle3D",name:"webStyle3D",component:Ai},{path:"/symbolLabel3D",name:"symbolLabel3D",component:Hi},{path:"/polygon3D",name:"polygon3D",component:Ji},{path:"/Label3D",name:"Label3D",component:ia},{path:"/dataDriven3D",name:"dataDriven3D",component:la}],da=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"view3Div"}},[i("scenetools-component",{attrs:{id:"sceneTools"}})],1)},ua=[],pa=i("bd86"),ma=(a={components:{"scenetools-component":Ti},data:function(){return{}},created:function(){this.setSceneView(null);var e=this.$route.name;switch(e){case"scene":this.loadScene();break;case"webScene":this.loadWebScene();break;default:this.loadScene()}},destroyed:function(){},computed:{},methods:Object(B["a"])({},Object(J["b"])(["setSceneView","loadScene","loadWebScene"]))},Object(pa["a"])(a,"computed",{listenSceneView:function(){return this.$store.state.sceneStore.sceneView}}),Object(pa["a"])(a,"watch",{listenSceneView:function(e,t){e&&e.ui.add("sceneTools","top-right")},$route:function(e,t){var i=e.name;switch(i){case"scene":this.loadScene();break;case"webScene":this.loadWebScene();break;default:this.loadScene()}}}),a),va=ma,fa=(i("458b"),Object(c["a"])(va,da,ua,!1,null,"1af19156",null)),wa=fa.exports,ga=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("el-row",{staticClass:"grid-bread"},[i("el-col",{attrs:{span:24}},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/tileMap"}}},[e._v("首页")]),i("el-breadcrumb-item",[e._v("个人信息")])],1)],1)],1),i("el-row",{staticClass:"grid-content"},[i("el-col",{attrs:{span:24}},[i("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("i",{staticClass:"el-icon-document"}),i("span",{staticClass:"grid-title"},[e._v("个人信息")]),i("div",{staticClass:"grid-tools"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-edit"}},[e._v("编辑")])],1)]),i("el-row",{staticStyle:{"padding-bottom":"40px"}},[i("el-col",{attrs:{span:6}},[e._v("用户名：")]),i("el-col",{attrs:{span:6}},[e._v(e._s(e.username))]),i("el-col",{attrs:{span:6}},[e._v("角色：")]),i("el-col",{attrs:{span:6}},[e._v(e._s(e.rolename))])],1),i("el-row",[i("el-col",{attrs:{span:6}},[e._v("邮箱：")]),i("el-col",{attrs:{span:6}},[e._v(e._s(e.email))]),i("el-col",{attrs:{span:6}},[e._v("备注：")]),i("el-col",{attrs:{span:6}},[e._v(e._s(e.description))])],1)],1)],1)],1)],1)},ha=[],ya={data:function(){return{username:"",rolename:"",email:"",description:""}},mounted:function(){var e=JSON.parse(sessionStorage.getItem("user"));if(e){switch(this.username=e.username,e.roleid){case"1":this.rolename="超级管理员";break;case"2":this.rolename="管理员";break;case"3":this.rolename="用户";break}this.email=e.email,this.description=e.description}},methods:{}},ba=ya,_a=(i("2a85"),Object(c["a"])(ba,ga,ha,!1,null,"ff5d8156",null)),Ea=_a.exports,Sa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/tileMap"}}},[e._v("首页")]),i("el-breadcrumb-item",[e._v("echarts")])],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartColumn"}})]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartBar"}})]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartLine"}})]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartPie"}})])],1)],1)},Ca=[],La=i("313e"),xa=i.n(La),Ma={data:function(){return{chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},methods:{drawColumnChart:function(){this.chartColumn=xa.a.init(document.getElementById("chartColumn")),this.chartColumn.setOption({title:{text:"Column Chart"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})},drawBarChart:function(){this.chartBar=xa.a.init(document.getElementById("chartBar")),this.chartBar.setOption({title:{text:"Bar Chart",subtext:"数据来自网络"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2011年","2012年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["巴西","印尼","美国","印度","中国","世界人口(万)"]},series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]})},drawLineChart:function(){this.chartLine=xa.a.init(document.getElementById("chartLine")),this.chartLine.setOption({title:{text:"Line Chart"},tooltip:{trigger:"axis"},legend:{data:["邮件营销","联盟广告","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]})},drawPieChart:function(){this.chartPie=xa.a.init(document.getElementById("chartPie")),this.chartPie.setOption({title:{text:"Pie Chart",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawCharts:function(){this.drawColumnChart(),this.drawBarChart(),this.drawLineChart(),this.drawPieChart()}},mounted:function(){this.drawCharts()},updated:function(){this.drawCharts()}},Ta=Ma,ka=(i("519a"),Object(c["a"])(Ta,Sa,Ca,!1,null,"315875d8",null)),Da=ka.exports;n["default"].use(m["a"]);var Va=new m["a"]({mode:"history",routes:[{path:"/login",name:"login",component:P},{path:"/",name:"index",component:W,children:[].concat(Object(p["a"])(te),[{path:"/queryByAtrributes",name:"queryByAtrributes",component:it},{path:"/queryByGeometry",name:"queryByGeometry",component:lt},{path:"/queryStatistics",name:"queryStatistics",component:vt}],Object(p["a"])(ca),Object(p["a"])(Ae),[{path:"/scene",name:"scene",component:wa},{path:"/widgetEditor",name:"widgetEditor",component:He},{path:"/applyEditEditor",name:"applyEditEditor",component:Je},{path:"/webScene",name:"webScene",component:wa},{path:"/userInfo",name:"userInfo",component:Ea},{path:"/echarts",name:"echarts",component:Da}])}]}),Wa={mapView:null,webmap:null},Oa={},ja={setMapView:function(e,t){e.mapView=t},setviewDiv:function(e,t){e.viewDiv=t},setwebmap:function(e,t){n["default"].prototype.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(i){var a=Object(U["a"])(i,3),n=(a[0],a[1],a[2]);e.webmap=new n({portalItem:t})})},loadTileMap:function(e){n["default"].prototype.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/TileLayer"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=i[0],n=i[1],r=i[2],o=new r({url:window.mapConfig.TileLayer.baseMap}),s=new a({});s.add(o),e.mapView=new n({container:"viewDiv",map:s,center:[window.mapConfig.center.x,window.mapConfig.center.y],zoom:window.mapConfig.zoom})})},loadTdtWMTS:function(e){n["default"].prototype.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/layers/WebTileLayer","esri/layers/support/TileInfo"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,4),a=i[0],n=i[1],r=i[2],o=i[3],s=new o({dpi:90.7142857142743,rows:256,cols:256,compressionQuality:0,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:[{level:2,levelValue:2,resolution:.3515625,scale:147748796.52937502},{level:3,levelValue:3,resolution:.17578125,scale:73874398.26468751},{level:4,levelValue:4,resolution:.087890625,scale:36937199.132343754},{level:5,levelValue:5,resolution:.0439453125,scale:18468599.566171877},{level:6,levelValue:6,resolution:.02197265625,scale:9234299.783085939},{level:7,levelValue:7,resolution:.010986328125,scale:4617149.891542969},{level:8,levelValue:8,resolution:.0054931640625,scale:2308574.9457714846},{level:9,levelValue:9,resolution:.00274658203125,scale:1154287.4728857423},{level:10,levelValue:10,resolution:.001373291015625,scale:577143.7364428712},{level:11,levelValue:11,resolution:.0006866455078125,scale:288571.8682214356},{level:12,levelValue:12,resolution:.00034332275390625,scale:144285.9341107178},{level:13,levelValue:13,resolution:.000171661376953125,scale:72142.9670553589},{level:14,levelValue:14,resolution:858306884765625e-19,scale:36071.48352767945},{level:15,levelValue:15,resolution:4291534423828125e-20,scale:18035.741763839724},{level:16,levelValue:16,resolution:21457672119140625e-21,scale:9017.870881919862},{level:17,levelValue:17,resolution:10728836059570312e-21,scale:4508.935440959931},{level:18,levelValue:18,resolution:5364418029785156e-21,scale:2254.4677204799655},{level:19,levelValue:19,resolution:2682209014892578e-21,scale:1127.2338602399827},{level:20,levelValue:2,resolution:1341104507446289e-21,scale:563.6169301199914}]}),l=new r({id:"vecLayer",title:"vecLayer",urlTemplate:"http://{subDomain}.tianditu.com/DataServer?T=vec_c&x={col}&y={row}&l={level}&tk=037732e0f605c2b98884616a4584d38f",subDomains:["t0","t1","t2","t3","t4","t5","t6","t7"],tileInfo:s,spatialReference:{wkid:4326}}),c=new r({id:"vecAnnoLayer",title:"vecAnnoLayer",urlTemplate:"http://{subDomain}.tianditu.com/DataServer?T=cva_c&x={col}&y={row}&l={level}&tk=037732e0f605c2b98884616a4584d38f",subDomains:["t0","t1","t2","t3","t4","t5","t6","t7"],tileInfo:s,spatialReference:{wkid:4326}}),d=new a({});d.addMany([l,c]);var u=new n({container:"viewDiv",map:d,center:[window.mapConfig.center.x,window.mapConfig.center.y],zoom:window.mapConfig.zoom-1});e.mapView=u})},loadWebMap:function(e){n["default"].prototype.esriLoader.loadModules(["esri/Map","esri/views/MapView","esri/WebMap"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,3),a=(i[0],i[1]),n=i[2];e.webmap=new n({portalItem:window.mapConfig.WebMap.portalItem});var r=new a({container:"viewDiv",map:e.webmap,center:[window.mapConfig.center.x,window.mapConfig.center.y],zoom:window.mapConfig.zoom});e.mapView=r})}},Fa={},Ia={state:Wa,getters:Oa,mutations:ja,actions:Fa},Na={sceneView:null},Aa={},Pa={setSceneView:function(e,t){e.sceneView=t},loadScene:function(e){n["default"].prototype.esriLoader.loadModules(["esri/Map","esri/views/SceneView","esri/layers/ElevationLayer","esri/layers/TileLayer","esri/layers/SceneLayer","esri/Ground"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,6),a=i[0],n=i[1],r=i[2],o=i[3],s=i[4],l=(i[5],new r({url:window.mapConfig.TileLayer.baseEelevation})),c=new o({url:window.mapConfig.TileLayer.baseImagery}),d=new o({url:window.mapConfig.TileLayer.baseImageryAnno}),u=new s({portalItem:window.mapConfig.SceneLayer.portalItem,popupEnabled:!0}),p={type:"mesh-3d",symbolLayers:[{type:"fill",material:{color:[244,247,134]}}]};u.renderer={type:"simple",symbol:p};var m=new a({});m.ground.layers.add(l),m.addMany([c,d,u]);var v=new n({container:"view3Div",map:m,camera:window.mapConfig.camera});e.sceneView=v})},loadWebScene:function(e){n["default"].prototype.esriLoader.loadModules(["esri/views/SceneView","esri/WebScene"],{url:window.mapConfig.jsapiUrl}).then(function(t){var i=Object(U["a"])(t,2),a=i[0],n=i[1],r=new n({portalItem:window.mapConfig.WebScene.portalItem}),o=new a({container:"view3Div",map:r});e.sceneView=o})}},$a={},za={state:Na,getters:Aa,mutations:Pa,actions:$a};n["default"].use(J["a"]);var Ba=new J["a"].Store({modules:{mapStore:Ia,sceneStore:za}}),Ra=i("5c96"),Ha=i.n(Ra),Ua=(i("0fae"),i("7f10"),i("afaa")),Ga=i("bc3a"),qa=i.n(Ga),Za=i("a7fe"),Ya=i.n(Za);n["default"].use(Ya.a,qa.a),n["default"].use(Ha.a),n["default"].config.productionTip=!1,n["default"].prototype.esriLoader=Ua,Va.beforeEach(function(e,t,i){var a=JSON.parse(sessionStorage.getItem("user"));a||"login"===e.name||i({path:"/login"}),i()}),new n["default"]({router:Va,store:Ba,render:function(e){return e(u)}}).$mount("#app")},"5a6c":function(e,t,i){},"5af9":function(e,t,i){},"5fe2":function(e,t,i){"use strict";var a=i("4410"),n=i.n(a);n.a},6126:function(e,t,i){},"61ec":function(e,t,i){"use strict";var a=i("7722"),n=i.n(a);n.a},"637b":function(e,t,i){},6503:function(e,t,i){},6636:function(e,t,i){},"690b":function(e,t,i){},"6b10":function(e,t,i){},7722:function(e,t,i){},"79f2":function(e,t,i){"use strict";var a=i("9e07"),n=i.n(a);n.a},8113:function(e,t,i){"use strict";var a=i("caf0"),n=i.n(a);n.a},8265:function(e,t,i){"use strict";var a=i("cf29"),n=i.n(a);n.a},"83a0":function(e,t,i){},"84a4":function(e,t,i){},8757:function(e,t,i){},"91a5":function(e,t,i){"use strict";var a=i("9b9e"),n=i.n(a);n.a},9346:function(e,t,i){},"9b9e":function(e,t,i){},"9bdb":function(e,t,i){"use strict";var a=i("6503"),n=i.n(a);n.a},"9e07":function(e,t,i){},"9e5e":function(e,t,i){"use strict";var a=i("6126"),n=i.n(a);n.a},"9ff3":function(e,t,i){},a203:function(e,t,i){"use strict";var a=i("bd73"),n=i.n(a);n.a},a2f8:function(e,t,i){},a6d3:function(e,t,i){},aa9d:function(e,t,i){"use strict";var a=i("5af9"),n=i.n(a);n.a},ae7e:function(e,t,i){"use strict";var a=i("8757"),n=i.n(a);n.a},b5f6:function(e,t,i){},ba97:function(e,t,i){e.exports=i.p+"img/user.c6cb6828.png"},bcf6:function(e,t,i){"use strict";var a=i("4f01"),n=i.n(a);n.a},bd73:function(e,t,i){},c5a8:function(e,t,i){"use strict";var a=i("dc0b"),n=i.n(a);n.a},c6a1:function(e,t,i){"use strict";var a=i("f1db"),n=i.n(a);n.a},caf0:function(e,t,i){},cb15:function(e,t,i){"use strict";var a=i("19f2"),n=i.n(a);n.a},cb65:function(e,t,i){"use strict";var a=i("5a6c"),n=i.n(a);n.a},cf29:function(e,t,i){},d399:function(e,t,i){},d3f8:function(e,t,i){"use strict";var a=i("9ff3"),n=i.n(a);n.a},d7b5:function(e,t,i){},dc0b:function(e,t,i){},dd08:function(e,t,i){"use strict";var a=i("a2f8"),n=i.n(a);n.a},dfb9:function(e,t,i){},e070:function(e,t,i){"use strict";var a=i("d399"),n=i.n(a);n.a},e0e3:function(e,t,i){},e330:function(e,t,i){"use strict";var a=i("6b10"),n=i.n(a);n.a},e7b4:function(e,t,i){},ea30:function(e,t,i){},f1db:function(e,t,i){},f931:function(e,t,i){},fbca:function(e,t,i){"use strict";var a=i("e7b4"),n=i.n(a);n.a}});